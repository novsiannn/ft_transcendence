(()=>{"use strict";var e={771:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(843),t)},843:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.homePage=function(){return'<div class="flex flex-col items-center justify-center min-h-screen bg-gradient-to-t from-black via-black to-gray-800 space-y-8">\n                <button class="px-6 py-3 text-white bg-blue-500 rounded-lg text-xl hover:bg-blue-700 focus:outline-none" id="btn-play">\n                    START\n                </button>\n            </div>'},t.gamePage=function(){return document.body.style.margin="0",document.body.style.padding="0",document.body.classList.add("bg-gradient-to-t","from-black","via-black","to-gray-800"),'\n        <canvas id="game-board" width="800" height="500" class="bg-gray-500 border"></canvas>\n        <p id="score-info" class="text-4xl text-white" class="bg-gray-500" > Score </p>\n        <button id="restart-btn" class="px-3 py-1 border-2 border-crimson rounded-[10px] bg-gray-500 text-white text-[25px]"> Restart </button>'},t.errorPage=function(){return document.body.classList.add("bg-gradient-to-t","from-black","via-black","to-gray-800"),'<div class="flex flex-col items-center justify-center min-h-screen bg-gradient-to-t from-black via-black to-gray-800 space-y-8">\n\t\t\t\t<h1 class="text-9xl text-white font-black"> Error 404 </h1>\n\t\t\t\t<h1 class="text-7xl py-3 text-white" font-medium> This page was not found </h1>\n\t\t\t</div>'},t.registrationPage=function(){return document.body.classList.add("h-screen","flex","items-center","justify-center","bg-gradient-to-t","from-black","via-black","to-gray-800"),'\n            <div class="w-5/5 h-4/5 flex shadow-lg rounded-lg bg-white">\n                <div class="w-3/5 p-10 flex flex-col justify-center bg-gradient-to-r from-purple-900 to-blue-900 text-white rounded-l-lg">\n                    <h1 class="text-4xl font-bold">Transcendence</h1>\n                    <p class="mt-4 text-lg">Join us today and start your journey with our amazing platform.</p>\n                </div>\n                <div class="w-2/5 p-10 flex flex-col justify-center rounded-r-lg">\n                    <h2 class="text-2xl font-bold text-center mb-4">Registration</h2>\n                    <form id="registerForm" class="space-y-4">\n                        <input id="usernameRegistration" type="text" placeholder="Username" class="w-full p-2 border rounded">\n                        <input id="emailRegistration" type="email" placeholder="Your email" class="w-full p-2 border rounded">\n                        <input id="passwordRegistration" type="password" placeholder="Your password" class="w-full p-2 border rounded">\n                        <input id="submitRegistration" type="submit" value="Register" class="w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600 cursor-pointer">\n                    </form>\n                    <p class="text-center mt-4">Already registered? <a class="text-blue-500">Sign In</a></p>\n                </div>\n            </div>\n    '},t.loginPage=function(){return document.body.classList.add("h-screen","flex","items-center","justify-center","bg-gradient-to-t","from-black","via-black","to-gray-800"),'\n            <div class="max-w-sm mx-auto mt-10 p-6 bg-white shadow-md rounded-lg">\n                <h2 class="text-xl font-semibold text-gray-700 text-center mb-4">Login</h2>\n                <input type="text" placeholder="your email" class="w-full mb-3 px-3 py-2 border rounded focus:ring-2 focus:ring-blue-400">\n                <input type="password" placeholder="your password" class="w-full mb-4 px-3 py-2 border rounded focus:ring-2 focus:ring-blue-400">\n                <button class="w-full bg-green-500 text-white py-2 rounded hover:bg-green-600">Login</button>\n                <p class="text-center mt-3"><a href="#" class="text-blue-500 hover:underline">Forgot Password?</a></p>\n            </div>\n        '}},274:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.btn=void 0,t.btn=document.createElement("button")},859:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mainWrapper=void 0,t.mainWrapper=document.createElement("div")},624:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(274),t),r(n(859),t)},156:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(n(468));window.addEventListener("DOMContentLoaded",(()=>{(0,r.default)(location.pathname)}))},258:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=document.querySelector("#score-info"),t=document.getElementById("game-board"),n=document.querySelector("#restart-btn");let o;const r=null==t?void 0:t.getContext("2d"),a=window.getComputedStyle(t).backgroundColor,i=t.width,c=t.height,l="w",s="s",u="ArrowUp",d="ArrowDown",f=25,p=120,g=13;let b=5,y=0,m=0;const h={x:i-f,y:c-p};let v=Object.assign({},{x:0,y:0}),x=Object.assign({},h);const w={x:i/2,y:c/2};let _=Object.assign({},w);const O={x:0,y:0};function j(e,t,n){r.fillStyle=n,r.fillRect(e,t,f,p)}function P(){r.beginPath(),r.fillStyle="white",r.arc(_.x,_.y,g,0,2*Math.PI),r.fill()}function M(){return Math.random()<.5}function k(){M()?O.x=1:O.x=-1,M()?O.y=1:O.y=-1}function S(){_.x+=b*O.x,_.y+=b*O.y,function(){const e=_.y<=g,t=_.y>=c-g;(e||t)&&(O.y*=-1)}(),function(){const e=function(){const e=_.x<=v.x+g+f,t=_.y>=v.y&&_.y<=v.y+p;return e&&t}(),t=function(){const e=_.x>=x.x-g,t=_.y>=x.y&&_.y<=x.y+p;return e&&t}();(e||t)&&(b*=1.07,O.x*=-1,e?_.x=v.x+f+g:t&&(_.x=x.x-g))}(),function(){const e=_.x>i,t=_.x<0;(e||t)&&(e&&y++,t&&m++,L(),_=Object.assign({},w),k(),P(),b=5)}()}function L(){e.textContent=`${y} : ${m}`}function R(e){const n=e.key===l,o=e.key===s,r=e.key===u,a=e.key===d,i=v.y>0,c=v.y<t.height-p,f=x.y>0,g=x.y<t.height-p;n&&i?v.y-=40:o&&c?v.y+=40:r&&f?x.y-=40:a&&g&&(x.y+=40)}function E(){r.fillStyle=a,r.fillRect(0,0,i,c),j(v.x,v.y,"white"),j(x.x,x.y,"white"),S(),P()}function T(){y=0,m=0,clearInterval(o),b=5,_=Object.assign({},w),v=Object.assign({},v),x=Object.assign({},x),D()}function D(){L(),k(),window.addEventListener("keydown",R),o=setInterval(E,20),n.addEventListener("click",T)}D()}},877:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(312),t)},312:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handleRegistration=function(){const e=document.querySelector("#usernameRegistration"),t=document.querySelector("#emailRegistration"),n=document.querySelector("#passwordRegistration"),r=document.querySelector("#submitRegistration"),a=[e,t,n];let i={text:null,email:null,password:null};r.addEventListener("click",(e=>{e.preventDefault();try{a.forEach((e=>{const t=e.type.toLowerCase();if(!e.value)throw new Error("One of your inputs is empty!");if(e.value.length<3)throw new Error(`${e.placeholder} has to be minimum 3 characters`);if("email"===e.type&&!e.value.match(/@/g))throw new Error(`${e.placeholder} has contain ' @ ' symbol`);i[t]=e.value})),console.log(i),(0,o.routeToHome)()}catch(e){alert(e)}}))};const o=n(941)},941:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(723),t),r(n(118),t),r(n(19),t)},19:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.navigateTo=function(e){history.pushState({},"",e),(0,r.default)(e)};const r=o(n(468))},118:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.routeToGame=function(){document.getElementById("btn-play").addEventListener("click",(e=>{e.preventDefault(),(0,o.navigateTo)("/game")}))},t.routeToHome=function(){(0,o.navigateTo)("/")};const o=n(941)},723:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.routes=void 0;const o=n(843);t.routes={"/":o.homePage,"/game":o.gamePage,"/registration":o.registrationPage,"/login":o.loginPage}},468:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;const r=n(624),a=o(n(258)),i=n(941),c=n(941),l=n(771),s=n(877);function u(e){document.body.append(r.mainWrapper),location.pathname in i.routes&&(r.mainWrapper.removeAttribute("id"),r.mainWrapper.className="",document.body.className="",r.mainWrapper.innerHTML=i.routes[location.pathname](),"/game"===location.pathname?(r.mainWrapper.id="game-container",r.mainWrapper.classList.add("h-screen","flex","flex-col","gap-2.5","justify-center","items-center"),(0,a.default)()):"/"===location.pathname?(0,c.routeToGame)():"/registration"===location.pathname&&(0,s.handleRegistration)()),location.pathname in i.routes||(r.mainWrapper.innerHTML=(0,l.errorPage)())}window.addEventListener("popstate",(()=>{console.log("changed with a button url",performance.now()),u(location.pathname)}))}},t={};!function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}(156)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFBekgsWUFBWUosVUFBVUMsSUFBSSxXQUFZLE9BQVEsV0FBWSxVQUFXLGlCQUFrQixpQkFDdkYsZ0JBQzZCLE1BQXRCTSxTQUFTQyxVQUNoQixJQUFBc0gsZUFDNkIsa0JBQXRCdkgsU0FBU0MsV0FDaEIsSUFBQXVILHVCQUdIeEgsU0FBU0MsWUFBWSxFQUFBMkcsU0FDdEIsRUFBQS9HLFlBQVl3SCxXQUFZLElBQUFJLGFBRWhDLENBRUEzSCxPQUFPQyxpQkFBaUIsWUFBWSxLQUNuQ29HLFFBQVFDLElBQUksNEJBQTZCc0IsWUFBWUMsT0FDbERWLEVBQU9qSCxTQUFTQyxTQUFTLEcsR0NsQ3pCMkgsRUFBMkIsQ0FBQyxHQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxDQUFDLEdBT1gsT0FIQUUsRUFBb0JMLEdBQVVNLEtBQUtGLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNKLEdBR3BFSyxFQUFPRCxPQUNmLENDbkIwQkosQ0FBb0IsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vc3JjL0xheW91dC9pbmRleC50cyIsIndlYnBhY2s6Ly9mcm9udGVuZC8uL3NyYy9MYXlvdXQvcGFnZXMudHMiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9zcmMvZWxlbWVudHMvY3JlYXRlQnV0dG9uLnRzIiwid2VicGFjazovL2Zyb250ZW5kLy4vc3JjL2VsZW1lbnRzL2NyZWF0ZVdyYXBwZXIudHMiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9zcmMvZWxlbWVudHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9zcmMvcGFnZXMvZ2FtZS9nYW1lLnRzIiwid2VicGFjazovL2Zyb250ZW5kLy4vc3JjL3BhZ2VzL3JlZ2lzdHJhdGlvbi9pbmRleC50cyIsIndlYnBhY2s6Ly9mcm9udGVuZC8uL3NyYy9wYWdlcy9yZWdpc3RyYXRpb24vcmVnaXN0cmF0aW9uLnRzIiwid2VicGFjazovL2Zyb250ZW5kLy4vc3JjL3JvdXRpbmcvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9zcmMvcm91dGluZy9uYXZpZ2F0aW9uLnRzIiwid2VicGFjazovL2Zyb250ZW5kLy4vc3JjL3JvdXRpbmcvcm91dGVUb1NvbWVQYWdlLnRzIiwid2VicGFjazovL2Zyb250ZW5kLy4vc3JjL3JvdXRpbmcvcm91dGVzLnRzIiwid2VicGFjazovL2Zyb250ZW5kLy4vc3JjL3NwYUFwcC9pbmRleC50cyIsIndlYnBhY2s6Ly9mcm9udGVuZC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9mcm9udGVuZC93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIi4vcGFnZXNcIiIsImV4cG9ydCBmdW5jdGlvbiBob21lUGFnZSgpXG57XG5cdGxldCByZXMgPSAgYDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tdCBmcm9tLWJsYWNrIHZpYS1ibGFjayB0by1ncmF5LTgwMCBzcGFjZS15LThcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHgtNiBweS0zIHRleHQtd2hpdGUgYmctYmx1ZS01MDAgcm91bmRlZC1sZyB0ZXh0LXhsIGhvdmVyOmJnLWJsdWUtNzAwIGZvY3VzOm91dGxpbmUtbm9uZVwiIGlkPVwiYnRuLXBsYXlcIj5cbiAgICAgICAgICAgICAgICAgICAgU1RBUlRcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PmA7XG5cdHJldHVybiByZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnYW1lUGFnZSgpXG57XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSBcIjBcIjtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmcgPSBcIjBcIjtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJiZy1ncmFkaWVudC10by10XCIsIFwiZnJvbS1ibGFja1wiLCBcInZpYS1ibGFja1wiLCBcInRvLWdyYXktODAwXCIpO1xuXHRyZXR1cm4gYFxuICAgICAgICA8Y2FudmFzIGlkPVwiZ2FtZS1ib2FyZFwiIHdpZHRoPVwiODAwXCIgaGVpZ2h0PVwiNTAwXCIgY2xhc3M9XCJiZy1ncmF5LTUwMCBib3JkZXJcIj48L2NhbnZhcz5cbiAgICAgICAgPHAgaWQ9XCJzY29yZS1pbmZvXCIgY2xhc3M9XCJ0ZXh0LTR4bCB0ZXh0LXdoaXRlXCIgY2xhc3M9XCJiZy1ncmF5LTUwMFwiID4gU2NvcmUgPC9wPlxuICAgICAgICA8YnV0dG9uIGlkPVwicmVzdGFydC1idG5cIiBjbGFzcz1cInB4LTMgcHktMSBib3JkZXItMiBib3JkZXItY3JpbXNvbiByb3VuZGVkLVsxMHB4XSBiZy1ncmF5LTUwMCB0ZXh0LXdoaXRlIHRleHQtWzI1cHhdXCI+IFJlc3RhcnQgPC9idXR0b24+YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yUGFnZSgpe1xuXHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJiZy1ncmFkaWVudC10by10XCIsIFwiZnJvbS1ibGFja1wiLCBcInZpYS1ibGFja1wiLCBcInRvLWdyYXktODAwXCIpO1xuXHRyZXR1cm4gYDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tdCBmcm9tLWJsYWNrIHZpYS1ibGFjayB0by1ncmF5LTgwMCBzcGFjZS15LThcIj5cblx0XHRcdFx0PGgxIGNsYXNzPVwidGV4dC05eGwgdGV4dC13aGl0ZSBmb250LWJsYWNrXCI+IEVycm9yIDQwNCA8L2gxPlxuXHRcdFx0XHQ8aDEgY2xhc3M9XCJ0ZXh0LTd4bCBweS0zIHRleHQtd2hpdGVcIiBmb250LW1lZGl1bT4gVGhpcyBwYWdlIHdhcyBub3QgZm91bmQgPC9oMT5cblx0XHRcdDwvZGl2PmBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdHJhdGlvblBhZ2UoKXtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJoLXNjcmVlblwiLCBcImZsZXhcIiwgXCJpdGVtcy1jZW50ZXJcIiwgXCJqdXN0aWZ5LWNlbnRlclwiLCBcImJnLWdyYWRpZW50LXRvLXRcIiwgXCJmcm9tLWJsYWNrXCIsIFwidmlhLWJsYWNrXCIsIFwidG8tZ3JheS04MDBcIik7XG4gICAgcmV0dXJuIGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTUvNSBoLTQvNSBmbGV4IHNoYWRvdy1sZyByb3VuZGVkLWxnIGJnLXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctMy81IHAtMTAgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBiZy1ncmFkaWVudC10by1yIGZyb20tcHVycGxlLTkwMCB0by1ibHVlLTkwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbC1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3M9XCJ0ZXh0LTR4bCBmb250LWJvbGRcIj5UcmFuc2NlbmRlbmNlPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtdC00IHRleHQtbGdcIj5Kb2luIHVzIHRvZGF5IGFuZCBzdGFydCB5b3VyIGpvdXJuZXkgd2l0aCBvdXIgYW1hemluZyBwbGF0Zm9ybS48L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctMi81IHAtMTAgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLXItbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtY2VudGVyIG1iLTRcIj5SZWdpc3RyYXRpb248L2gyPlxuICAgICAgICAgICAgICAgICAgICA8Zm9ybSBpZD1cInJlZ2lzdGVyRm9ybVwiIGNsYXNzPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9XCJ1c2VybmFtZVJlZ2lzdHJhdGlvblwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJVc2VybmFtZVwiIGNsYXNzPVwidy1mdWxsIHAtMiBib3JkZXIgcm91bmRlZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPVwiZW1haWxSZWdpc3RyYXRpb25cIiB0eXBlPVwiZW1haWxcIiBwbGFjZWhvbGRlcj1cIllvdXIgZW1haWxcIiBjbGFzcz1cInctZnVsbCBwLTIgYm9yZGVyIHJvdW5kZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cInBhc3N3b3JkUmVnaXN0cmF0aW9uXCIgdHlwZT1cInBhc3N3b3JkXCIgcGxhY2Vob2xkZXI9XCJZb3VyIHBhc3N3b3JkXCIgY2xhc3M9XCJ3LWZ1bGwgcC0yIGJvcmRlciByb3VuZGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9XCJzdWJtaXRSZWdpc3RyYXRpb25cIiB0eXBlPVwic3VibWl0XCIgdmFsdWU9XCJSZWdpc3RlclwiIGNsYXNzPVwidy1mdWxsIGJnLWJsdWUtNTAwIHRleHQtd2hpdGUgcC0yIHJvdW5kZWQgaG92ZXI6YmctYmx1ZS02MDAgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtY2VudGVyIG10LTRcIj5BbHJlYWR5IHJlZ2lzdGVyZWQ/IDxhIGNsYXNzPVwidGV4dC1ibHVlLTUwMFwiPlNpZ24gSW48L2E+PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgYFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9naW5QYWdlKCl7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwiaC1zY3JlZW5cIiwgXCJmbGV4XCIsIFwiaXRlbXMtY2VudGVyXCIsIFwianVzdGlmeS1jZW50ZXJcIiwgXCJiZy1ncmFkaWVudC10by10XCIsIFwiZnJvbS1ibGFja1wiLCBcInZpYS1ibGFja1wiLCBcInRvLWdyYXktODAwXCIpO1xuICAgIHJldHVybiBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWF4LXctc20gbXgtYXV0byBtdC0xMCBwLTYgYmctd2hpdGUgc2hhZG93LW1kIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTcwMCB0ZXh0LWNlbnRlciBtYi00XCI+TG9naW48L2gyPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwieW91ciBlbWFpbFwiIGNsYXNzPVwidy1mdWxsIG1iLTMgcHgtMyBweS0yIGJvcmRlciByb3VuZGVkIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNDAwXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIHBsYWNlaG9sZGVyPVwieW91ciBwYXNzd29yZFwiIGNsYXNzPVwidy1mdWxsIG1iLTQgcHgtMyBweS0yIGJvcmRlciByb3VuZGVkIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNDAwXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInctZnVsbCBiZy1ncmVlbi01MDAgdGV4dC13aGl0ZSBweS0yIHJvdW5kZWQgaG92ZXI6YmctZ3JlZW4tNjAwXCI+TG9naW48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtY2VudGVyIG10LTNcIj48YSBocmVmPVwiI1wiIGNsYXNzPVwidGV4dC1ibHVlLTUwMCBob3Zlcjp1bmRlcmxpbmVcIj5Gb3Jnb3QgUGFzc3dvcmQ/PC9hPjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgXG59IiwiZXhwb3J0IGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuIiwiZXhwb3J0IGNvbnN0IG1haW5XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IiwiZXhwb3J0ICogZnJvbSAnLi9jcmVhdGVCdXR0b24nO1xuZXhwb3J0ICogZnJvbSAnLi9jcmVhdGVXcmFwcGVyJzsiLCJpbXBvcnQgcnVuU3BhIGZyb20gJy4vc3BhQXBwL2luZGV4J1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgIHJ1blNwYShsb2NhdGlvbi5wYXRobmFtZSk7XG59KTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0YXJ0R2FtZSgpe1xuXHRjb25zdCBzY29yZUluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Njb3JlLWluZm9cIik7XG5cdGNvbnN0IGdhbWVCb2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZS1ib2FyZFwiKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcblx0Y29uc3QgcmVzdGFydEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVzdGFydC1idG5cIik7XG5cdGxldCBpbnRlcnZhbElEOiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRJbnRlcnZhbD47O1xuXG5cdGNvbnN0IGNvbnRleHQgPSBnYW1lQm9hcmQ/LmdldENvbnRleHQoXCIyZFwiKTtcblxuXHRjb25zdCBnYW1lQm9hcmRDb2xvciA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGdhbWVCb2FyZCkuYmFja2dyb3VuZENvbG9yO1xuXHRjb25zdCBmaXJzdFBhZGRsZUNvbG9yID0gXCJ3aGl0ZVwiO1xuXHRjb25zdCBzZWNvbmRQYWRkbGVDb2xvciA9IFwid2hpdGVcIjtcblx0Y29uc3QgYmFsbENvbG9yID0gXCJ3aGl0ZVwiO1xuXG5cdGNvbnN0IGdhbWVCb2FyZFdpZHRoID0gIGdhbWVCb2FyZC53aWR0aDtcblx0Y29uc3QgZ2FtZUJvYXJkSGVpZ2h0ID0gZ2FtZUJvYXJkLmhlaWdodDtcblxuXHRjb25zdCBtb3ZlRmlyc3RQYWRkbGVLZXkgPSB7XG5cdFx0dXA6IFwid1wiLFxuXHRcdGRvd246IFwic1wiLFxuXHR9XG5cblx0Y29uc3QgbW92ZVNlY29uZFBhZGRsZUtleSA9IHtcblx0XHR1cDogXCJBcnJvd1VwXCIsXG5cdFx0ZG93bjogXCJBcnJvd0Rvd25cIlxuXHR9XG5cblx0Y29uc3QgcGFkZGxlU2l6ZSA9IHtcblx0XHR3aWR0aDogMjUsXG5cdFx0aGVpZ2h0OiAxMjBcblx0fVxuXG5cdGNvbnN0IGJhbGxSYWRpdXMgPSAxMztcblx0Y29uc3QgaW5pdGlhbEJhbGxTcGVlZCA9IDU7XG5cdGxldCBiYWxsU3BlZWQgPSBpbml0aWFsQmFsbFNwZWVkO1xuXHRjb25zdCBwYWRkbGVTcGVlZCA9IDQwO1xuXHRsZXQgZmlyc3RQbGF5ZXJTY29yZSA9IDA7XG5cdGxldCBzZWNvbmRQbGF5ZXJTY29yZSA9IDA7XG5cblx0Y29uc3QgZmlyc3RQYWRkbGVJbml0aWFsID0ge1xuXHRcdHg6IDAsXG5cdFx0eTogMFxuXHR9XG5cblx0Y29uc3Qgc2Vjb25kUGFkZGxlSW5pdGlhbCA9IHtcblx0XHR4OiBnYW1lQm9hcmRXaWR0aCAtIHBhZGRsZVNpemUud2lkdGgsXG5cdFx0eTogZ2FtZUJvYXJkSGVpZ2h0IC0gcGFkZGxlU2l6ZS5oZWlnaHQsXG5cdH1cblxuXHRsZXQgZmlyc3RQYWRkbGUgPSB7Li4uZmlyc3RQYWRkbGVJbml0aWFsfTtcblx0bGV0IHNlY29uZFBhZGRsZSA9IHsuLi5zZWNvbmRQYWRkbGVJbml0aWFsfTtcblxuXHRjb25zdCBiYWxsSW5pdGlhbCA9IHtcblx0XHR4OiBnYW1lQm9hcmRXaWR0aCAvIDIsXG5cdFx0eTogZ2FtZUJvYXJkSGVpZ2h0IC8gMiwgXG5cdH1cblxuXHRsZXQgYmFsbCA9IHsuLi5iYWxsSW5pdGlhbH07XG5cdGNvbnN0IGJhbGxEaXJlY3Rpb24gPSB7XG5cdFx0eDogMCxcblx0XHR5OiAwLFxuXHR9XG5cblx0ZnVuY3Rpb24gZHJhd0JvYXJkKCl7XG5cdFx0Y29udGV4dCEuZmlsbFN0eWxlID0gZ2FtZUJvYXJkQ29sb3I7XG5cdFx0Y29udGV4dCEuZmlsbFJlY3QoMCwwICxnYW1lQm9hcmRXaWR0aCwgZ2FtZUJvYXJkSGVpZ2h0KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGRyYXdQYWRkbGUocGFkZGxlWDogbnVtYmVyLCBwYWRkbGVZOiBudW1iZXIgLCBjb2xvcjogc3RyaW5nKXtcblx0XHRjb250ZXh0IS5maWxsU3R5bGUgPSBjb2xvcjtcblx0XHRjb250ZXh0IS5maWxsUmVjdChwYWRkbGVYLCBwYWRkbGVZICxwYWRkbGVTaXplLndpZHRoLCBwYWRkbGVTaXplLmhlaWdodCk7XG5cdH1cblxuXHRmdW5jdGlvbiBkcmF3UGFkZGxlcygpe1xuXHRcdGRyYXdQYWRkbGUoZmlyc3RQYWRkbGUueCwgZmlyc3RQYWRkbGUueSwgZmlyc3RQYWRkbGVDb2xvcik7XG5cdFx0ZHJhd1BhZGRsZShzZWNvbmRQYWRkbGUueCwgc2Vjb25kUGFkZGxlLnksIHNlY29uZFBhZGRsZUNvbG9yKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGRyYXdCYWxsKCl7XG5cdFx0Y29udGV4dCEuYmVnaW5QYXRoKCk7XG5cdFx0Y29udGV4dCEuZmlsbFN0eWxlID0gYmFsbENvbG9yO1xuXHRcdGNvbnRleHQhLmFyYyhiYWxsLngsIGJhbGwueSwgYmFsbFJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuXHRcdGNvbnRleHQhLmZpbGwoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNob29zZUJhbGxEaXJlY3Rpb24oKXtcblx0XHRyZXR1cm4gTWF0aC5yYW5kb20oKSA8IDAuNTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNldEJhbGxEaXJlY3Rpb24oKXtcblx0XHRpZihjaG9vc2VCYWxsRGlyZWN0aW9uKCkpe1xuXHRcdFx0YmFsbERpcmVjdGlvbi54ID0gMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YmFsbERpcmVjdGlvbi54ID0gLTE7XG5cdFx0fVxuXHRcdFxuXHRcdGlmKGNob29zZUJhbGxEaXJlY3Rpb24oKSl7XG5cdFx0XHRiYWxsRGlyZWN0aW9uLnkgPSAxO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRiYWxsRGlyZWN0aW9uLnkgPSAtMTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVCb3JkZXJDb2xsaXNpb24oKXtcblx0XHRjb25zdCB0b3BCYWxsUmFkaXVzID0gYmFsbC55IDw9IGJhbGxSYWRpdXM7XG5cdFx0Y29uc3QgYm90dG9tQmFsbFJhZGl1cyA9IGJhbGwueSA+PSBnYW1lQm9hcmRIZWlnaHQgLSBiYWxsUmFkaXVzO1xuXHRcdGlmKHRvcEJhbGxSYWRpdXMgfHwgYm90dG9tQmFsbFJhZGl1cyl7XG5cdFx0XHRiYWxsRGlyZWN0aW9uLnkgKj0gLTE7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gY2hlY2tGaXJzdFBhZGRsZUNvbGxpc2lvbigpe1xuXHRcdGNvbnN0IHhDb2xsaXNpb24gPSBiYWxsLnggPD0gZmlyc3RQYWRkbGUueCArIGJhbGxSYWRpdXMgKyBwYWRkbGVTaXplLndpZHRoO1xuXHRcdGNvbnN0IHlDb2xsaXNpb24gPSBiYWxsLnkgPj0gZmlyc3RQYWRkbGUueSAmJiBiYWxsLnkgPD0gZmlyc3RQYWRkbGUueSArIHBhZGRsZVNpemUuaGVpZ2h0O1xuXHRcdHJldHVybiB4Q29sbGlzaW9uICYmIHlDb2xsaXNpb247XG5cdH1cblxuXHRmdW5jdGlvbiBjaGVja1NlY29uZFBhZGRsZUNvbGxpc2lvbigpe1xuXHRcdGNvbnN0IHhDb2xsaXNpb24gPSBiYWxsLnggPj0gc2Vjb25kUGFkZGxlLnggLSBiYWxsUmFkaXVzO1xuXHRcdGNvbnN0IHlDb2xsaXNpb24gPSBiYWxsLnkgPj0gc2Vjb25kUGFkZGxlLnkgJiYgYmFsbC55IDw9IHNlY29uZFBhZGRsZS55ICsgcGFkZGxlU2l6ZS5oZWlnaHQ7XG5cdFx0cmV0dXJuIHhDb2xsaXNpb24gJiYgeUNvbGxpc2lvbjtcblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZVBhZGRsZUNvbGxpc2lvbigpe1xuXHRcdGNvbnN0IGZpcnN0UGFkZGxlQ29sbGlzaW9uID0gY2hlY2tGaXJzdFBhZGRsZUNvbGxpc2lvbigpO1xuXHRcdGNvbnN0IHNlY29uZFBhZGRsZUNvbGxpc2lvbiA9IGNoZWNrU2Vjb25kUGFkZGxlQ29sbGlzaW9uKCk7XG5cblx0XHRpZihmaXJzdFBhZGRsZUNvbGxpc2lvbiB8fCBzZWNvbmRQYWRkbGVDb2xsaXNpb24pe1xuXHRcdFx0YmFsbFNwZWVkICo9IDEuMDc7XG5cdFx0XHRiYWxsRGlyZWN0aW9uLnggKj0gLTE7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiA7XG5cdFx0fVxuXHRcdGlmKGZpcnN0UGFkZGxlQ29sbGlzaW9uKXtcblx0XHRcdGJhbGwueCA9IGZpcnN0UGFkZGxlLnggKyBwYWRkbGVTaXplLndpZHRoICsgYmFsbFJhZGl1cztcblx0XHR9IGVsc2UgaWYoc2Vjb25kUGFkZGxlQ29sbGlzaW9uKXtcblx0XHRcdGJhbGwueCA9IHNlY29uZFBhZGRsZS54IC0gYmFsbFJhZGl1cztcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBtb3ZlQmFsbCgpe1xuXHRcdGJhbGwueCArPSBiYWxsU3BlZWQgKiBiYWxsRGlyZWN0aW9uLng7XG5cdFx0YmFsbC55ICs9IGJhbGxTcGVlZCAqIGJhbGxEaXJlY3Rpb24ueTtcblx0XHRoYW5kbGVCb3JkZXJDb2xsaXNpb24oKTtcblx0XHRoYW5kbGVQYWRkbGVDb2xsaXNpb24oKTtcblx0XHRoYW5kbGVHb2FsKCk7XG5cdH1cblxuXHRmdW5jdGlvbiB1cGRhdGVTY29yZSgpe1xuXHRcdHNjb3JlSW5mbyEudGV4dENvbnRlbnQgPSBgJHtmaXJzdFBsYXllclNjb3JlfSA6ICR7c2Vjb25kUGxheWVyU2NvcmV9YFxuIFx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZUdvYWwoKXtcblx0XHRjb25zdCBmaXJzdFVzZXJHb2FsID0gYmFsbC54ID4gZ2FtZUJvYXJkV2lkdGg7XG5cdFx0Y29uc3Qgc2Vjb25kVXNlckdvYWwgPSBiYWxsLnggPCAgMDtcblxuXHRcdGlmKCFmaXJzdFVzZXJHb2FsICYmICFzZWNvbmRVc2VyR29hbCl7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmKGZpcnN0VXNlckdvYWwpe1xuXHRcdFx0Zmlyc3RQbGF5ZXJTY29yZSsrO1xuXHRcdH1cblx0XHRpZihzZWNvbmRVc2VyR29hbCl7XG5cdFx0XHRzZWNvbmRQbGF5ZXJTY29yZSsrO1xuXHRcdH1cblx0XHR1cGRhdGVTY29yZSgpO1xuXHRcdGJhbGwgPSB7Li4uYmFsbEluaXRpYWx9O1xuXHRcdHNldEJhbGxEaXJlY3Rpb24oKTtcblx0XHRkcmF3QmFsbCgpO1xuXHRcdGJhbGxTcGVlZCA9IGluaXRpYWxCYWxsU3BlZWQ7XG5cdH1cblxuXHRmdW5jdGlvbiBtb3ZlUGFkZGxlcyhldiA6IEtleWJvYXJkRXZlbnQpe1xuXHRcdFxuXHRcdGNvbnN0IGZpcnN0UGFkZGxlR29pbmdVcCA9IGV2LmtleSA9PT0gbW92ZUZpcnN0UGFkZGxlS2V5LnVwO1xuXHRcdGNvbnN0IGZpcnN0UGFkZGxlR29pbmdEb3duID0gZXYua2V5ID09PSBtb3ZlRmlyc3RQYWRkbGVLZXkuZG93bjtcblx0XHRjb25zdCBzZWNvbmRQYWRkbGVHb2luZ1VwID0gZXYua2V5ID09PSBtb3ZlU2Vjb25kUGFkZGxlS2V5LnVwO1xuXHRcdGNvbnN0IHNlY29uZFBhZGRsZUdvaW5nRG93biA9IGV2LmtleSA9PT0gbW92ZVNlY29uZFBhZGRsZUtleS5kb3duO1xuXG5cdFx0Y29uc3QgY2FuRmlyc3RQYWRkbGVNb3ZlVXAgPSBmaXJzdFBhZGRsZS55ID4gMDtcblx0XHRjb25zdCBjYW5GaXJzdFBhZGRsZU1vdmVEb3duID0gZmlyc3RQYWRkbGUueSA8IGdhbWVCb2FyZC5oZWlnaHQgLSBwYWRkbGVTaXplLmhlaWdodDtcblx0XHRjb25zdCBjYW5TZWNvbmRQYWRkbGVNb3ZlVXAgPSBzZWNvbmRQYWRkbGUueSA+IDA7XG5cdFx0Y29uc3QgY2FuU2Vjb25kUGFkZGxlTW92ZURvd24gPSBzZWNvbmRQYWRkbGUueSA8IGdhbWVCb2FyZC5oZWlnaHQgLSBwYWRkbGVTaXplLmhlaWdodDtcblxuXHRcdGlmIChmaXJzdFBhZGRsZUdvaW5nVXAgJiYgY2FuRmlyc3RQYWRkbGVNb3ZlVXApe1xuXHRcdFx0Zmlyc3RQYWRkbGUueSAtPSBwYWRkbGVTcGVlZDtcblx0XHR9IGVsc2UgaWYgKGZpcnN0UGFkZGxlR29pbmdEb3duICYmIGNhbkZpcnN0UGFkZGxlTW92ZURvd24pe1xuXHRcdFx0Zmlyc3RQYWRkbGUueSArPSBwYWRkbGVTcGVlZDtcblx0XHR9IGVsc2UgaWYgKHNlY29uZFBhZGRsZUdvaW5nVXAgJiYgY2FuU2Vjb25kUGFkZGxlTW92ZVVwKXtcblx0XHRcdHNlY29uZFBhZGRsZS55IC09IHBhZGRsZVNwZWVkO1xuXHRcdH0gZWxzZSBpZiAoc2Vjb25kUGFkZGxlR29pbmdEb3duICYmIGNhblNlY29uZFBhZGRsZU1vdmVEb3duKXtcblx0XHRcdHNlY29uZFBhZGRsZS55ICs9IHBhZGRsZVNwZWVkO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHVwZGF0ZUdhbWUoKXtcblx0XHRkcmF3Qm9hcmQoKTtcblx0XHRkcmF3UGFkZGxlcygpO1xuXHRcdG1vdmVCYWxsKCk7XG5cdFx0ZHJhd0JhbGwoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlc3RhcnRHYW1lKCl7XG5cdFx0Zmlyc3RQbGF5ZXJTY29yZSA9IDA7XG5cdFx0c2Vjb25kUGxheWVyU2NvcmUgPSAwO1xuXHRcdGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJRCk7XG5cdFx0YmFsbFNwZWVkID0gaW5pdGlhbEJhbGxTcGVlZDtcblx0XHRiYWxsID0gey4uLmJhbGxJbml0aWFsfTtcblx0XHRmaXJzdFBhZGRsZSA9IHsuLi5maXJzdFBhZGRsZX07XG5cdFx0c2Vjb25kUGFkZGxlID0gey4uLnNlY29uZFBhZGRsZX07XG5cdFx0aW5pdEdhbWUoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGluaXRHYW1lKCl7XG5cdFx0dXBkYXRlU2NvcmUoKTtcblx0XHRzZXRCYWxsRGlyZWN0aW9uKCk7XG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsbW92ZVBhZGRsZXMpO1xuXHRcdGludGVydmFsSUQgPSBzZXRJbnRlcnZhbCh1cGRhdGVHYW1lLCAyMCk7XG5cdFx0cmVzdGFydEJ0biEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZXN0YXJ0R2FtZSk7XG5cdH1cblxuXHRpbml0R2FtZSgpO1xuXHQvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgaW5pdEdhbWUpO1xufVxuXG5cblxuXG5cbiIsImV4cG9ydCAqIGZyb20gXCIuL3JlZ2lzdHJhdGlvblwiIiwiLy8gaW1wb3J0IFBhZ2UgZnJvbSAnLi4vLi4vY29yZS90ZW1wbGF0ZXMvcGFnZSdcbi8vIGltcG9ydCB7IFBhZ2VJZHMgfSBmcm9tICcuLi8uLi9zaGFyZWQnO1xuaW1wb3J0IHtyb3V0ZVRvSG9tZX0gZnJvbSBcIi4uLy4uL3JvdXRpbmcvaW5kZXhcIlxuLy9oYXMgdG8gYmUgcmVtb3ZlZFxuaW50ZXJmYWNlIElVc2VyRGF0YVR5cGV7XG4gICAgdGV4dDogc3RyaW5nIHwgbnVsbCxcbiAgICBlbWFpbDogc3RyaW5nIHwgbnVsbCxcbiAgICBwYXNzd29yZDogc3RyaW5nIHwgbnVsbFxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVSZWdpc3RyYXRpb24oKXtcbiAgICBjb25zdCB1c2VyTmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN1c2VybmFtZVJlZ2lzdHJhdGlvblwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IGVtYWlsSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VtYWlsUmVnaXN0cmF0aW9uXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGFzc3dvcmRSZWdpc3RyYXRpb25cIikgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBjb25zdCBidG5SZWdpc3RyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdWJtaXRSZWdpc3RyYXRpb25cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgY29uc3QgaW5wdXRzVXNlcnM6IEhUTUxJbnB1dEVsZW1lbnRbXSA9IFt1c2VyTmFtZUlucHV0LCBlbWFpbElucHV0LCBwYXNzd29yZElucHV0XTtcbiAgICAvLyBkYXRhQmFzZSBoYXMgdG8gYmUgcmVtb3ZlZC4gSXQncyBjcmVhdGVkIG9ubHkgZm9yIHRlc3RzIDopXG4gICAgbGV0IHVzZXJEYXRhIDogSVVzZXJEYXRhVHlwZSA9IHtcbiAgICAgICAgdGV4dCA6IG51bGwsXG4gICAgICAgIGVtYWlsIDogbnVsbCxcbiAgICAgICAgcGFzc3dvcmQ6IG51bGxcbiAgICB9O1xuICAgIGNvbnN0IHRlbXBvcmFyeURhdGFCYXNlOiBzdHJpbmdbXVtdID0gW107XG4gICAgLy8gdGlsbCB0aGlzIHN0cmluZ1xuXG4gICAgYnRuUmVnaXN0ciEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbnB1dHNVc2Vycy5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGlucHV0LnR5cGUudG9Mb3dlckNhc2UoKSBhcyBrZXlvZiBJVXNlckRhdGFUeXBlO1xuICAgICAgICAgICAgaWYgKCFpbnB1dC52YWx1ZSl7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT25lIG9mIHlvdXIgaW5wdXRzIGlzIGVtcHR5IVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPCAzKXtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7aW5wdXQucGxhY2Vob2xkZXJ9IGhhcyB0byBiZSBtaW5pbXVtIDMgY2hhcmFjdGVyc2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdlbWFpbCcgJiYgIShpbnB1dC52YWx1ZS5tYXRjaCgvQC9nKSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IgKGAke2lucHV0LnBsYWNlaG9sZGVyfSBoYXMgY29udGFpbiAnIEAgJyBzeW1ib2xgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVzZXJEYXRhW2tleV0gPSBpbnB1dC52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyRGF0YSk7XG4gICAgICAgICAgICByb3V0ZVRvSG9tZSgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgYWxlcnQoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4iLCJleHBvcnQgKiBmcm9tIFwiLi9yb3V0ZXNcIlxuZXhwb3J0ICogZnJvbSBcIi4vcm91dGVUb1NvbWVQYWdlXCJcbmV4cG9ydCAqIGZyb20gXCIuL25hdmlnYXRpb25cIiIsImltcG9ydCBydW5TUEEgZnJvbSBcIi4uL3NwYUFwcFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVUbyhwYXRoOiBzdHJpbmcpIHtcbiAgICBoaXN0b3J5LnB1c2hTdGF0ZSh7fSwgXCJcIiwgcGF0aCk7IC8vIENoYW5nZSBVUkwgd2l0aG91dCByZWxvYWRcbiAgICBydW5TUEEocGF0aCk7IC8vIERyYXcgbmV3IFBhZ2Vcbn0iLCJpbXBvcnQge25hdmlnYXRlVG99IGZyb20gXCIuL2luZGV4XCJcblxuZXhwb3J0IGZ1bmN0aW9uIHJvdXRlVG9HYW1lKCl7XG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuLXBsYXlcIikhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgIChlKSA9Pntcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0bmF2aWdhdGVUbyhcIi9nYW1lXCIpO1xuXHR9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdXRlVG9Ib21lKCl7XG5cdG5hdmlnYXRlVG8oXCIvXCIpO1xufSIsImltcG9ydCB7IGhvbWVQYWdlLCBnYW1lUGFnZSwgcmVnaXN0cmF0aW9uUGFnZSwgbG9naW5QYWdlIH0gZnJvbSBcIi4uL0xheW91dC9wYWdlc1wiXG5cbmV4cG9ydCBjb25zdCByb3V0ZXM6IFJlY29yZDwgc3RyaW5nLCAoKSA9PiBzdHJpbmcgPiA9IHtcbiAgICBcIi9cIjogaG9tZVBhZ2UsXG4gICAgXCIvZ2FtZVwiOiBnYW1lUGFnZSxcbiAgICBcIi9yZWdpc3RyYXRpb25cIjogcmVnaXN0cmF0aW9uUGFnZSxcbiAgICBcIi9sb2dpblwiOiBsb2dpblBhZ2UsXG59OyIsImltcG9ydCB7IG1haW5XcmFwcGVyIH0gZnJvbSAnLi4vZWxlbWVudHMnO1xuaW1wb3J0IHN0YXJ0R2FtZSBmcm9tIFwiLi4vcGFnZXMvZ2FtZS9nYW1lXCI7XG5pbXBvcnQgeyByb3V0ZXMgfSBmcm9tIFwiLi4vcm91dGluZy9pbmRleFwiXG5pbXBvcnQgeyByb3V0ZVRvR2FtZSB9IGZyb20gXCIuLi9yb3V0aW5nL2luZGV4XCI7XG5pbXBvcnQge2Vycm9yUGFnZX0gZnJvbSBcIi4uL0xheW91dC9pbmRleFwiXG5pbXBvcnQgeyBoYW5kbGVSZWdpc3RyYXRpb24gfSBmcm9tICcuLi9wYWdlcy9yZWdpc3RyYXRpb24nO1xuLy8gaW1wb3J0IHsgbmF2aWdhdGVUbyB9IGZyb20gJy4uL3JvdXRpbmcvaW5kZXgnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBydW5TUEEocGF0aCA/OiBzdHJpbmcpe1xuXHRkb2N1bWVudC5ib2R5LmFwcGVuZChtYWluV3JhcHBlcik7XG5cbiAgICBpZihsb2NhdGlvbi5wYXRobmFtZSBpbiByb3V0ZXMpIHtcblxuICAgICAgICBtYWluV3JhcHBlci5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICAgICAgbWFpbldyYXBwZXIuY2xhc3NOYW1lID0gXCJcIjtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSBcIlwiO1xuICAgICAgICBtYWluV3JhcHBlci5pbm5lckhUTUwgPSByb3V0ZXNbbG9jYXRpb24ucGF0aG5hbWVdKCk7XG4gICAgXG4gICAgICAgIGlmKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL2dhbWUnKXsgIFxuICAgICAgICAgICAgbWFpbldyYXBwZXIuaWQgPSBcImdhbWUtY29udGFpbmVyXCI7XG4gICAgICAgICAgICBtYWluV3JhcHBlci5jbGFzc0xpc3QuYWRkKFwiaC1zY3JlZW5cIiwgXCJmbGV4XCIsIFwiZmxleC1jb2xcIiwgXCJnYXAtMi41XCIsIFwianVzdGlmeS1jZW50ZXJcIiwgXCJpdGVtcy1jZW50ZXJcIik7XG4gICAgICAgICAgICBzdGFydEdhbWUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy8nKXtcbiAgICAgICAgICAgIHJvdXRlVG9HYW1lKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvcmVnaXN0cmF0aW9uJyl7XG4gICAgICAgICAgICBoYW5kbGVSZWdpc3RyYXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZighKGxvY2F0aW9uLnBhdGhuYW1lIGluIHJvdXRlcykpIHtcbiAgICAgICAgbWFpbldyYXBwZXIuaW5uZXJIVE1MID0gZXJyb3JQYWdlKCk7XG4gICAgfVxufVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsICgpID0+IHtcblx0Y29uc29sZS5sb2coXCJjaGFuZ2VkIHdpdGggYSBidXR0b24gdXJsXCIsIHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICBydW5TUEEobG9jYXRpb24ucGF0aG5hbWUpO1xufSk7IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTYpO1xuIl0sIm5hbWVzIjpbImRvY3VtZW50IiwiYm9keSIsInN0eWxlIiwibWFyZ2luIiwicGFkZGluZyIsImNsYXNzTGlzdCIsImFkZCIsImJ0biIsImNyZWF0ZUVsZW1lbnQiLCJtYWluV3JhcHBlciIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwic2NvcmVJbmZvIiwicXVlcnlTZWxlY3RvciIsImdhbWVCb2FyZCIsImdldEVsZW1lbnRCeUlkIiwicmVzdGFydEJ0biIsImludGVydmFsSUQiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImdhbWVCb2FyZENvbG9yIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImJhY2tncm91bmRDb2xvciIsImdhbWVCb2FyZFdpZHRoIiwid2lkdGgiLCJnYW1lQm9hcmRIZWlnaHQiLCJoZWlnaHQiLCJtb3ZlRmlyc3RQYWRkbGVLZXkiLCJtb3ZlU2Vjb25kUGFkZGxlS2V5IiwicGFkZGxlU2l6ZSIsImJhbGxSYWRpdXMiLCJiYWxsU3BlZWQiLCJmaXJzdFBsYXllclNjb3JlIiwic2Vjb25kUGxheWVyU2NvcmUiLCJzZWNvbmRQYWRkbGVJbml0aWFsIiwieCIsInkiLCJmaXJzdFBhZGRsZSIsInNlY29uZFBhZGRsZSIsImJhbGxJbml0aWFsIiwiYmFsbCIsImJhbGxEaXJlY3Rpb24iLCJkcmF3UGFkZGxlIiwicGFkZGxlWCIsInBhZGRsZVkiLCJjb2xvciIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiZHJhd0JhbGwiLCJiZWdpblBhdGgiLCJhcmMiLCJNYXRoIiwiUEkiLCJmaWxsIiwiY2hvb3NlQmFsbERpcmVjdGlvbiIsInJhbmRvbSIsInNldEJhbGxEaXJlY3Rpb24iLCJtb3ZlQmFsbCIsInRvcEJhbGxSYWRpdXMiLCJib3R0b21CYWxsUmFkaXVzIiwiaGFuZGxlQm9yZGVyQ29sbGlzaW9uIiwiZmlyc3RQYWRkbGVDb2xsaXNpb24iLCJ4Q29sbGlzaW9uIiwieUNvbGxpc2lvbiIsImNoZWNrRmlyc3RQYWRkbGVDb2xsaXNpb24iLCJzZWNvbmRQYWRkbGVDb2xsaXNpb24iLCJjaGVja1NlY29uZFBhZGRsZUNvbGxpc2lvbiIsImhhbmRsZVBhZGRsZUNvbGxpc2lvbiIsImZpcnN0VXNlckdvYWwiLCJzZWNvbmRVc2VyR29hbCIsInVwZGF0ZVNjb3JlIiwiaGFuZGxlR29hbCIsInRleHRDb250ZW50IiwibW92ZVBhZGRsZXMiLCJldiIsImZpcnN0UGFkZGxlR29pbmdVcCIsImtleSIsImZpcnN0UGFkZGxlR29pbmdEb3duIiwic2Vjb25kUGFkZGxlR29pbmdVcCIsInNlY29uZFBhZGRsZUdvaW5nRG93biIsImNhbkZpcnN0UGFkZGxlTW92ZVVwIiwiY2FuRmlyc3RQYWRkbGVNb3ZlRG93biIsImNhblNlY29uZFBhZGRsZU1vdmVVcCIsImNhblNlY29uZFBhZGRsZU1vdmVEb3duIiwidXBkYXRlR2FtZSIsInJlc3RhcnRHYW1lIiwiY2xlYXJJbnRlcnZhbCIsImluaXRHYW1lIiwic2V0SW50ZXJ2YWwiLCJ1c2VyTmFtZUlucHV0IiwiZW1haWxJbnB1dCIsInBhc3N3b3JkSW5wdXQiLCJidG5SZWdpc3RyIiwiaW5wdXRzVXNlcnMiLCJ1c2VyRGF0YSIsInRleHQiLCJlbWFpbCIsInBhc3N3b3JkIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZm9yRWFjaCIsImlucHV0IiwidHlwZSIsInRvTG93ZXJDYXNlIiwidmFsdWUiLCJFcnJvciIsImxlbmd0aCIsInBsYWNlaG9sZGVyIiwibWF0Y2giLCJjb25zb2xlIiwibG9nIiwicm91dGVUb0hvbWUiLCJlcnJvciIsImFsZXJ0IiwicGF0aCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJuYXZpZ2F0ZVRvIiwicm91dGVzIiwiaG9tZVBhZ2UiLCJnYW1lUGFnZSIsInJlZ2lzdHJhdGlvblBhZ2UiLCJsb2dpblBhZ2UiLCJydW5TUEEiLCJhcHBlbmQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjbGFzc05hbWUiLCJpbm5lckhUTUwiLCJpZCIsInJvdXRlVG9HYW1lIiwiaGFuZGxlUmVnaXN0cmF0aW9uIiwiZXJyb3JQYWdlIiwicGVyZm9ybWFuY2UiLCJub3ciLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiXSwic291cmNlUm9vdCI6IiJ9