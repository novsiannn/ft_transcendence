(()=>{"use strict";var e={69:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(468)),l=[{id:"home",text:"MAIN"},{id:"game",text:"GAME"}];class r extends s.default{constructor(e,t){super(e,t)}renderPageButtons(){const e=document.createElement("div");l.forEach((t=>{const n=document.createElement("a");n.href=`#${t.id}`,n.innerText=t.text,e.append(n)})),this.container.append(e)}render(){return this.renderPageButtons(),this.container}}t.default=r},468:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this.container=document.createElement(e),this.container.className=t}render(){return this.container}}},971:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.container=document.createElement("div"),this.container.classList.add("flex","flex-col","items-center","justify-center","min-h-screen","bg-gradient-to-t","from-black","via-black","to-gray-800","space-y-8"),this.container.id=e}render(){return this.container}}},156:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),(new(a(n(916)).default)).run()},916:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(878)),l=a(n(258)),r=a(n(69)),d=a(n(136)),i=a(n(312)),o=a(n(851));class c{static renderNewPage(e){const t=document.querySelector(`#${c.defaultPageID}`);t&&t.remove();let n=null;if(n="home"===e?new s.default(e):"game"===e?new l.default(e):"registr"===e?new i.default(e):"login"===e?new o.default(e):new d.default(e,"  ERROR 404 | PAGE DOESN'T EXIST  "),console.log(e),localStorage.setItem("PageName",e),n){const e=n.render();e.id=c.defaultPageID,c.container.append(e)}}enableRouteChange(){window.addEventListener("hashchange",(()=>{const e=window.location.hash.slice(1);c.renderNewPage(e)}))}constructor(){this.initialPage=new s.default("home"),this.header=new r.default("header","header")}run(){let e=localStorage.getItem("PageName");null===e&&(e="home"),c.renderNewPage(e),this.enableRouteChange()}}c.container=document.body,c.defaultPageID="current",t.default=c},136:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(971));class l extends s.default{constructor(e,t){super(e),this.errorType=t}render(){let e=document.createElement("h1");return this.container.classList.add("text-white","p-6"),e.classList.add("text-2xl","font-bold"),e.textContent="  ERROR 404 | PAGE DOESN'T EXIST  ",this.container.append(e),this.container}}t.default=l},258:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(971));class l extends s.default{constructor(e){super(e),this.borders=["top-0 left-0 w-full h-4","bottom-0 left-0 w-full h-4","top-0 right-0 w-4 h-full"],this.animationFrameId=null,this.paddle=null,this.paddleY=window.innerHeight/2-50,this.ballX=window.innerWidth/2,this.ballY=window.innerHeight/2,this.ballSpeedX=7,this.ballSpeedY=6,this.keydownHandler=this.movePaddle.bind(this),l.currentInstance=this}movePaddle(e){this.paddle&&("ArrowUp"===e.key&&this.paddleY>10&&(this.paddleY-=15),"ArrowDown"===e.key&&this.paddleY<window.innerHeight-100&&(this.paddleY+=15),this.paddle&&(this.paddle.style.top=`${this.paddleY}px`))}executeMethod(e){e()}stopGame(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),window.removeEventListener("keydown",this.keydownHandler),this.paddle&&this.paddle.remove(),this.ballX&&(this.ballX=0),this.ballY&&(this.ballY=0)}removeAllClassesFromElement(e){for(;e.classList.length>0;)e.classList.remove(e.classList[0])}makeElementsForGame(){this.borders.forEach((e=>{const t=document.createElement("div");t.className=`absolute bg-blue-500 ${e}`,this.container.append(t)})),this.paddle=document.createElement("div"),this.paddle.id="paddle",this.paddle.className="absolute left-4 top-1/2 w-4 h-24 bg-white",this.container.appendChild(this.paddle);const e=document.createElement("div");e.id="ball",e.className="absolute w-6 h-6 bg-white rounded-full",this.container.appendChild(e);const t=()=>{this.ballX+=this.ballSpeedX,this.ballY+=this.ballSpeedY,(this.ballY<=0||this.ballY>=window.innerHeight-10)&&(this.ballSpeedY*=-1),this.ballX<=20&&this.ballY>this.paddleY&&this.ballY<this.paddleY+100&&(this.ballSpeedX*=-1),this.ballX>=window.innerWidth-10&&(this.ballSpeedX*=-1),this.ballX<0&&(alert("Lost!"),this.ballX=window.innerWidth/2,this.ballY=window.innerHeight/2),e.style.left=`${this.ballX}px`,e.style.top=`${this.ballY}px`,this.animationFrameId=requestAnimationFrame(t)};window.addEventListener("keydown",this.keydownHandler),window.addEventListener("hashchange",(()=>this.stopGame())),this.animationFrameId=requestAnimationFrame(t)}render(){return document.body.classList.add("overflow-x-hidden","overflow-y-auto"),this.removeAllClassesFromElement(this.container),this.container.className="relative w-screen h-screen bg-black overflow-hidden box-border",this.makeElementsForGame(),document.body.appendChild(this.container),this.container}}l.currentInstance=null,t.default=l},851:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(971));class l extends s.default{constructor(e){super(e)}createPageElements(){let e=document.createElement("h2"),t=document.createElement("input"),n=document.createElement("input"),a=document.createElement("button"),s=document.createElement("p"),l=document.createElement("a");e.classList.add("text-xl","font-semibold","text-gray-700","text-center","mb-4"),t.classList.add("w-full","mb-3","px-3","py-2","border","rounded","focus:ring-2","focus:ring-blue-400"),n.classList.add("w-full","mb-4","px-3","py-2","border","rounded","focus:ring-2","focus:ring-blue-400"),a.classList.add("w-full","bg-green-500","text-white","py-2","rounded","hover:bg-green-600"),s.classList.add("text-center","mt-3"),l.classList.add("text-blue-500","hover:underline"),t.type="text",n.type="password",l.href="#",t.placeholder="your email",n.placeholder="your password",e.textContent="Login",l.textContent="Forgot Password?",s.append(l),this.container.append(e),this.container.append(t),this.container.append(n),this.container.append(a),this.container.append(s)}removeAllClassesFromElement(e){for(;e.classList.length>0;)e.classList.remove(e.classList[0])}render(){return this.removeAllClassesFromElement(this.container),document.body.classList.add("flex","items-center","justify-center","min-h-screen","bg-gray-100"),this.container.classList.add("bg-white p-6 rounded-lg shadow w-80"),this.createPageElements(),this.container}}t.default=l},878:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(971));class l extends s.default{constructor(e){super(e)}createButton(){const e=document.createElement("button");return e.textContent="START GAME",e.classList.add("bg-white","text-black","font-press-start","border-2","border-black","px-8","py-4","transform","skew-x-[-10deg]","shadow-[4px_4px_0_0_black]","hover:shadow-[2px_2px_0_0_black]","active:shadow-[1px_1px_0_0_black]","transition-shadow"),e.addEventListener("click",(()=>{window.location.hash="game"})),e}render(){const e=this.createButton();return this.container.append(e),this.container}}t.default=l},312:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(971));class l extends s.default{constructor(e){super(e)}createPageElements(){let e=document.createElement("div"),t=document.createElement("h1"),n=document.createElement("p"),a=document.createElement("div"),s=document.createElement("h2"),l=document.createElement("form"),r=document.createElement("input"),d=document.createElement("input"),i=document.createElement("input"),o=document.createElement("input"),c=document.createElement("p"),u=document.createElement("a");t.textContent="Transcendence",n.textContent="Здесь могла бы быть ваша реклама...",o.textContent="Registration",u.text="Sign In",s.textContent="Registration",l.id="registerForm",r.id="username",d.id="email",i.id="password",r.type="text",d.type="email",i.type="password",o.type="submit",r.placeholder="username",d.placeholder="your email",i.placeholder="your password",u.href="#",u.classList.add("text-blue-500"),c.classList.add("text-center","mt-4"),r.classList.add("w-full","p-2","border","rounded"),d.classList.add("w-full","p-2","border","rounded"),i.classList.add("w-full","p-2","border","rounded"),o.classList.add("w-full","bg-blue-500","text-white","p-2","rounded","hover:bg-blue-600"),l.classList.add("space-y-4"),s.classList.add("text-2xl","font-bold","text-center","mb-4"),t.classList.add("text-4xl","font-bold"),n.classList.add("mt-4","text-lg"),e.classList.add("w-3/5","p-10","flex","flex-col","justify-center","bg-gradient-to-r","from-purple-900","to-blue-900","text-white","rounded-l-lg"),a.classList.add("w-2/5","p-10","flex","flex-col","justify-center","rounded-r-lg"),c.append(u),a.append(s),l.append(r),l.append(d),l.append(i),l.append(o),l.append(u),a.append(l),e.append(t),e.append(n),this.container.append(e),this.container.append(a)}removeAllClassesFromElement(e){for(;e.classList.length>0;)e.classList.remove(e.classList[0])}render(){return this.removeAllClassesFromElement(this.container),document.body.classList.add("h-screen","flex","items-center","justify-center","bg-gradient-to-t","from-black","via-black","to-gray-800"),this.container.classList.add("w-4/5","h-3/5","flex","shadow-lg","rounded-lg","bg-white"),this.createPageElements(),this.container}}t.default=l}},t={};!function n(a){var s=t[a];if(void 0!==s)return s.exports;var l=t[a]={exports:{}};return e[a].call(l.exports,l,l.exports,n),l.exports}(156)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YyxZQUFhLGVBQ2pJSixLQUFLQyxVQUFVRSxVQUFVQyxJQUFJLFFBQVMsUUFBUyxPQUFRLFlBQWEsYUFBYyxZQUNsRkosS0FBS3NFLHFCQUNFdEUsS0FBS0MsU0FDaEIsRUFJSixVQUFlaUYsQyxHQ2xIWFksRUFBMkIsQ0FBQyxHQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxDQUFDLEdBT1gsT0FIQUUsRUFBb0JMLEdBQVVNLEtBQUtGLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNKLEdBR3BFSyxFQUFPRCxPQUNmLENDbkIwQkosQ0FBb0IsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vc3JjL2NvcmUvY29tcG9uZW50cy9oZWFkZXJzL2hlYWRlci50cyIsIndlYnBhY2s6Ly9mcm9udGVuZC8uL3NyYy9jb3JlL3RlbXBsYXRlcy9jb21wb25lbnRzLnRzIiwid2VicGFjazovL2Zyb250ZW5kLy4vc3JjL2NvcmUvdGVtcGxhdGVzL3BhZ2UudHMiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9zcmMvcGFnZXMvYXBwL2NsYXNzQXBwLnRzIiwid2VicGFjazovL2Zyb250ZW5kLy4vc3JjL3BhZ2VzL2Vycm9yL2Vycm9yLnRzIiwid2VicGFjazovL2Zyb250ZW5kLy4vc3JjL3BhZ2VzL2dhbWUvZ2FtZS50cyIsIndlYnBhY2s6Ly9mcm9udGVuZC8uL3NyYy9wYWdlcy9sb2dpbi9sb2dpblBhZ2UudHMiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9zcmMvcGFnZXMvbWFpblBhZ2UvbWFpblBhZ2UudHMiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9zcmMvcGFnZXMvcmVnaXN0cmF0aW9uL3JlZ2lzdHJhdGlvbi50cyIsIndlYnBhY2s6Ly9mcm9udGVuZC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9mcm9udGVuZC93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbXBvbmVudCBmcm9tICcuLi8uLi90ZW1wbGF0ZXMvY29tcG9uZW50cydcbmltcG9ydCB7UGFnZUlkc30gZnJvbSAnLi4vLi4vLi4vcGFnZXMvYXBwL2NsYXNzQXBwJ1xuXG5jb25zdCBCdXR0b25zID0gW1xuXHR7XG5cdFx0aWQ6IFBhZ2VJZHMuTWFpblBhZ2UsXG5cdFx0dGV4dDogJ01BSU4nLFxuXHR9LFxuXHR7XG5cdFx0aWQ6IFBhZ2VJZHMuR2FtZVBhZ2UsXG5cdFx0dGV4dDogJ0dBTUUnLFxuXHR9XG5dO1xuXG5jbGFzcyBIZWFkZXIgZXh0ZW5kcyBDb21wb25lbnR7XG5cdGNvbnN0cnVjdG9yKHRhZ05hbWU6IHN0cmluZywgY2xhc3NOYW1lOiBzdHJpbmcpe1xuXHRcdHN1cGVyKHRhZ05hbWUsIGNsYXNzTmFtZSk7XG5cdH1cblxuXHRyZW5kZXJQYWdlQnV0dG9ucygpe1xuXHRcdGNvbnN0IHBhZ2VCdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0QnV0dG9ucy5mb3JFYWNoKChlKSA9PiB7XG5cdFx0XHRjb25zdCBidXR0b25IVE1MID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXHRcdFx0YnV0dG9uSFRNTC5ocmVmID0gYCMke2UuaWR9YDtcblx0XHRcdGJ1dHRvbkhUTUwuaW5uZXJUZXh0ID0gZS50ZXh0O1xuXHRcdFx0cGFnZUJ1dHRvbnMuYXBwZW5kKGJ1dHRvbkhUTUwpO1xuXHRcdH0pO1xuXHRcdHRoaXMuY29udGFpbmVyLmFwcGVuZChwYWdlQnV0dG9ucyk7IFxuXHR9XG5cblx0cmVuZGVyKCl7XG5cdFx0dGhpcy5yZW5kZXJQYWdlQnV0dG9ucygpXG5cdFx0cmV0dXJuIHRoaXMuY29udGFpbmVyO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEhlYWRlcjsiLCJhYnN0cmFjdCBjbGFzcyBDb21wb25lbnR7XG5cdHByb3RlY3RlZCBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuXG5cdGNvbnN0cnVjdG9yKHRhZ05hbWU6IHN0cmluZywgY2xhc3NOYW1lOiBzdHJpbmcpe1xuXHRcdHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcblx0XHR0aGlzLmNvbnRhaW5lci5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG5cdH1cblxuXHRyZW5kZXIoKXtcblx0XHRyZXR1cm4gdGhpcy5jb250YWluZXI7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29tcG9uZW50OyIsImFic3RyYWN0IGNsYXNzIFBhZ2V7XG5cdHByb3RlY3RlZCBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuXG5cdGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcpe1xuXHRcdHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0dGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZmxleCcsICdmbGV4LWNvbCcsICdpdGVtcy1jZW50ZXInLCAnanVzdGlmeS1jZW50ZXInLCAnbWluLWgtc2NyZWVuJywgXG5cdFx0J2JnLWdyYWRpZW50LXRvLXQnLCAnZnJvbS1ibGFjaycsICd2aWEtYmxhY2snLCAndG8tZ3JheS04MDAnLCAnc3BhY2UteS04Jyk7XG5cdFx0dGhpcy5jb250YWluZXIuaWQgPSBpZDtcblx0fVxuXG5cdHJlbmRlcigpe1xuXHRcdHJldHVybiB0aGlzLmNvbnRhaW5lcjtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBQYWdlOyIsImltcG9ydCBBcHAgZnJvbSAnLi9wYWdlcy9hcHAvY2xhc3NBcHAnXG5cbmNvbnN0IGFwcCA9IG5ldyBBcHAoKTtcbmFwcC5ydW4oKVxuIiwiaW1wb3J0IE1haW5QYWdlIGZyb20gJy4uL21haW5QYWdlL21haW5QYWdlJztcbmltcG9ydCBHYW1lIGZyb20gJy4uL2dhbWUvZ2FtZSc7XG5pbXBvcnQgUGFnZSBmcm9tICcuLi8uLi9jb3JlL3RlbXBsYXRlcy9wYWdlJztcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi4vLi4vY29yZS9jb21wb25lbnRzL2hlYWRlcnMvaGVhZGVyJztcbmltcG9ydCBFcnJvclBhZ2UsIHtFcnJvclR5cGVzfSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgUmVnaXN0cmF0aW9uIGZyb20gJy4uL3JlZ2lzdHJhdGlvbi9yZWdpc3RyYXRpb24nO1xuaW1wb3J0IExvZ2luIGZyb20gJy4uL2xvZ2luL2xvZ2luUGFnZSc7XG5cbmV4cG9ydCBjb25zdCBlbnVtIFBhZ2VJZHMge1xuXHRNYWluUGFnZSA9ICdob21lJyxcblx0R2FtZVBhZ2UgPSAnZ2FtZScsXG5cdERlZmF1bHRQYWdlID0gJ2hvbWUnLFxuXHRMb2dpblBhZ2UgPSAnbG9naW4nLFxuXHRSZWdpc3RyYXRpb25QYWdlID0gJ3JlZ2lzdHInLFxufVxuXG5jbGFzcyBBcHAge1xuXHRwcml2YXRlIHN0YXRpYyAgY29udGFpbmVyOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmJvZHk7XG5cdHByaXZhdGUgc3RhdGljIGRlZmF1bHRQYWdlSUQ6IHN0cmluZyA9ICdjdXJyZW50J1xuXHRwcml2YXRlIGluaXRpYWxQYWdlOiBNYWluUGFnZTtcblx0cHJpdmF0ZSBoZWFkZXI6IEhlYWRlcjtcblxuXHRzdGF0aWMgcmVuZGVyTmV3UGFnZShpZFBhZ2U6IHN0cmluZyl7XG5cdFx0Y29uc3QgY3VycmVudFBhZ2VIVE1MID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7QXBwLmRlZmF1bHRQYWdlSUR9YCk7XG5cdFx0aWYoY3VycmVudFBhZ2VIVE1MKXtcblx0XHRcdGN1cnJlbnRQYWdlSFRNTC5yZW1vdmUoKTtcblx0XHR9XG5cdFx0bGV0IHBhZ2U6IFBhZ2UgfCBudWxsID0gbnVsbDtcblxuXHRcdFxuXHRcdGlmKGlkUGFnZSA9PT0gUGFnZUlkcy5NYWluUGFnZSl7XG5cdFx0XHRwYWdlID0gbmV3IE1haW5QYWdlKGlkUGFnZSlcblx0XHR9IGVsc2UgaWYgKGlkUGFnZSA9PT0gUGFnZUlkcy5HYW1lUGFnZSl7XG5cdFx0XHRwYWdlID0gbmV3IEdhbWUoaWRQYWdlKTtcblx0XHR9ZWxzZSBpZihpZFBhZ2UgPT09IFBhZ2VJZHMuUmVnaXN0cmF0aW9uUGFnZSl7XG5cdFx0XHRwYWdlID0gbmV3IFJlZ2lzdHJhdGlvbihpZFBhZ2UpO1xuXHRcdH1lbHNlIGlmKGlkUGFnZSA9PT0gUGFnZUlkcy5Mb2dpblBhZ2Upe1xuXHRcdFx0cGFnZSA9IG5ldyBMb2dpbihpZFBhZ2UpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwYWdlID0gbmV3IEVycm9yUGFnZShpZFBhZ2UsIEVycm9yVHlwZXMuRXJyb3JfNDA0KTtcblx0XHR9XG5cdFx0Y29uc29sZS5sb2coaWRQYWdlKTtcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnUGFnZU5hbWUnLCBpZFBhZ2UpO1xuXHRcdGlmKHBhZ2Upe1xuXHRcdFx0Y29uc3QgcGFnZUhUTUwgPSBwYWdlLnJlbmRlcigpO1xuXHRcdFx0cGFnZUhUTUwuaWQgPSBBcHAuZGVmYXVsdFBhZ2VJRDtcblx0XHRcdEFwcC5jb250YWluZXIuYXBwZW5kKHBhZ2VIVE1MKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGVuYWJsZVJvdXRlQ2hhbmdlKCl7XG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCAoKSA9Pntcblx0XHRcdGNvbnN0IGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKTtcblx0XHRcdFxuXHRcdFx0QXBwLnJlbmRlck5ld1BhZ2UoaGFzaCk7XG5cdFx0fSk7XG5cdH1cblxuXHRjb25zdHJ1Y3Rvcigpe1xuXHRcdHRoaXMuaW5pdGlhbFBhZ2UgPSBuZXcgTWFpblBhZ2UoJ2hvbWUnKTtcblx0XHR0aGlzLmhlYWRlciA9IG5ldyBIZWFkZXIoJ2hlYWRlcicsICdoZWFkZXInKTtcblx0fVxuXG5cdHJ1bigpe1xuXHRcdGxldCBjdXJyZW50UGFnZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdQYWdlTmFtZScpO1xuXHRcdC8vIEFwcC5jb250YWluZXIuYXBwZW5kKHRoaXMuaGVhZGVyLnJlbmRlcigpKTtcblx0XHRpZiAoY3VycmVudFBhZ2UgPT09IG51bGwpXG5cdFx0XHRjdXJyZW50UGFnZSA9IFBhZ2VJZHMuRGVmYXVsdFBhZ2U7XG5cdFx0QXBwLnJlbmRlck5ld1BhZ2UoY3VycmVudFBhZ2UpO1xuXHRcdHRoaXMuZW5hYmxlUm91dGVDaGFuZ2UoKTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcHA7IiwiaW1wb3J0IFBhZ2UgZnJvbSAnLi4vLi4vY29yZS90ZW1wbGF0ZXMvcGFnZSdcblxuZXhwb3J0IGNvbnN0IGVudW0gRXJyb3JUeXBlc3tcblx0RXJyb3JfNDA0ID0gYCAgRVJST1IgNDA0IHwgUEFHRSBET0VTTidUIEVYSVNUICBgLFxufVxuXG5jbGFzcyBFcnJvclBhZ2UgZXh0ZW5kcyBQYWdle1xuXHRwcml2YXRlIGVycm9yVHlwZTogRXJyb3JUeXBlcyB8IHN0cmluZztcblxuXHRjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBlcnJvclR5cGU6IEVycm9yVHlwZXMgfCBzdHJpbmcpe1xuXHRcdHN1cGVyKGlkKTtcblx0XHR0aGlzLmVycm9yVHlwZSA9IGVycm9yVHlwZTtcblx0fVxuXG5cdHJlbmRlcigpe1xuXHRcdGxldCBlcnJvck1zZzEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xuXHRcdHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3RleHQtd2hpdGUnLCAncC02Jyk7XG5cdFx0ZXJyb3JNc2cxLmNsYXNzTGlzdC5hZGQoJ3RleHQtMnhsJywgJ2ZvbnQtYm9sZCcpO1xuXHRcdGVycm9yTXNnMS50ZXh0Q29udGVudCA9IEVycm9yVHlwZXMuRXJyb3JfNDA0O1xuXHRcdHRoaXMuY29udGFpbmVyLmFwcGVuZChlcnJvck1zZzEpO1xuXHRcdHJldHVybiB0aGlzLmNvbnRhaW5lcjtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBFcnJvclBhZ2U7IiwiaW1wb3J0IFBhZ2UgZnJvbSAnLi4vLi4vY29yZS90ZW1wbGF0ZXMvcGFnZSc7XG5cbmNsYXNzIEdhbWUgZXh0ZW5kcyBQYWdlIHtcbiAgcHJpdmF0ZSBib3JkZXJzOiBzdHJpbmdbXSA9IFtcbiAgICBcInRvcC0wIGxlZnQtMCB3LWZ1bGwgaC00XCIsXG4gICAgXCJib3R0b20tMCBsZWZ0LTAgdy1mdWxsIGgtNFwiLFxuICAgIFwidG9wLTAgcmlnaHQtMCB3LTQgaC1mdWxsXCIsXG4gIF07XG5cbiAgcHJpdmF0ZSBhbmltYXRpb25GcmFtZUlkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBrZXlkb3duSGFuZGxlcjogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQ7XG4gIHByaXZhdGUgcGFkZGxlWTogbnVtYmVyO1xuICBwcml2YXRlIGJhbGxYOiBudW1iZXI7XG4gIHByaXZhdGUgYmFsbFk6IG51bWJlcjtcbiAgcHJpdmF0ZSBiYWxsU3BlZWRYOiBudW1iZXI7XG4gIHByaXZhdGUgYmFsbFNwZWVkWTogbnVtYmVyO1xuICBwcml2YXRlIHBhZGRsZTogSFRNTERpdkVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICAvLyDQodGC0LDRgtC40YfQtdGB0LrQuNC5INGN0LrQt9C10LzQv9C70Y/RgCDQuNCz0YDRi1xuICBwcml2YXRlIHN0YXRpYyBjdXJyZW50SW5zdGFuY2U6IEdhbWUgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nKSB7XG4gICAgc3VwZXIoaWQpO1xuICAgIHRoaXMucGFkZGxlWSA9IHdpbmRvdy5pbm5lckhlaWdodCAvIDIgLSA1MDtcbiAgICB0aGlzLmJhbGxYID0gd2luZG93LmlubmVyV2lkdGggLyAyO1xuICAgIHRoaXMuYmFsbFkgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyO1xuICAgIHRoaXMuYmFsbFNwZWVkWCA9IDc7XG4gICAgdGhpcy5iYWxsU3BlZWRZID0gNjtcblxuICAgIC8vINCf0YDQuNCy0Y/Qt9GL0LLQsNC10Lwg0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8gbW92ZVBhZGRsZVxuICAgIHRoaXMua2V5ZG93bkhhbmRsZXIgPSB0aGlzLm1vdmVQYWRkbGUuYmluZCh0aGlzKTtcblxuICAgIC8vINCh0L7RhdGA0LDQvdGP0LXQvCDRgtC10LrRg9GJ0LjQuSDRjdC60LfQtdC80L/Qu9GP0YAg0LjQs9GA0YtcbiAgICBHYW1lLmN1cnJlbnRJbnN0YW5jZSA9IHRoaXM7XG4gIH1cblxuICAvLyDQnNC10YLQvtC0INC00LvRjyDQtNCy0LjQttC10L3QuNGPINGA0LDQutC10YLQutC4XG4gIG1vdmVQYWRkbGUoZTogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5wYWRkbGUpIHJldHVybjtcbiAgICBpZiAoZS5rZXkgPT09IFwiQXJyb3dVcFwiICYmIHRoaXMucGFkZGxlWSA+IDEwKSB0aGlzLnBhZGRsZVkgLT0gMTU7XG4gICAgaWYgKGUua2V5ID09PSBcIkFycm93RG93blwiICYmIHRoaXMucGFkZGxlWSA8IHdpbmRvdy5pbm5lckhlaWdodCAtIDEwMCkgdGhpcy5wYWRkbGVZICs9IDE1O1xuICAgIGlmICh0aGlzLnBhZGRsZSkge1xuICAgICAgdGhpcy5wYWRkbGUuc3R5bGUudG9wID0gYCR7dGhpcy5wYWRkbGVZfXB4YDtcbiAgICB9XG4gIH1cblxuICBleGVjdXRlTWV0aG9kKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgY2FsbGJhY2soKTsgIC8vINCS0YvQt9C+0LIg0L/QtdGA0LXQtNCw0L3QvdC+0LPQviDQvNC10YLQvtC00LBcbiAgfVxuXG4gIC8vINCe0YHRgtCw0L3QvtCy0LrQsCDQuNCz0YDRi1xuICBzdG9wR2FtZSgpIHtcbiAgICAvLyDQldGB0LvQuCDRgdGD0YnQtdGB0YLQstGD0LXRgiDQsNC90LjQvNCw0YbQuNGPLCDQvtGB0YLQsNC90LDQstC70LjQstCw0LXQvCDQtdGRXG4gICAgaWYgKHRoaXMuYW5pbWF0aW9uRnJhbWVJZCkge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25GcmFtZUlkKTtcbiAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWVJZCA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8g0KPQtNCw0LvRj9C10Lwg0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8gJ2tleWRvd24nXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMua2V5ZG93bkhhbmRsZXIpO1xuXG4gICAgLy8g0KPQsdC40YDQsNC10Lwg0LLRgdC1INGN0LvQtdC80LXQvdGC0Ysg0LjQs9GA0YtcbiAgICBpZiAodGhpcy5wYWRkbGUpIHtcbiAgICAgIHRoaXMucGFkZGxlLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIGlmKHRoaXMuYmFsbFgpXG4gICAgICAgIHRoaXMuYmFsbFggPSAwO1xuICAgIGlmKHRoaXMuYmFsbFkpXG4gICAgICB0aGlzLmJhbGxZID0gMDtcblxuICAgIC8vINCe0YfQuNGB0YLQutCwINCy0YHQtdGFINC00YDRg9Cz0LjRhSDRgNC10YHRg9GA0YHQvtCyLCDQtdGB0LvQuCDQvtC90Lgg0LXRgdGC0YxcbiAgICAvLyDQndCw0L/RgNC40LzQtdGALCDRg9C00LDQu9C10L3QuNC1INC00YDRg9Cz0LjRhSBET00g0Y3Qu9C10LzQtdC90YLQvtCyLCDQtdGB0LvQuCDRjdGC0L4g0L3QtdC+0LHRhdC+0LTQuNC80L5cbiAgfVxuXG4gIC8vINCj0LTQsNC70Y/QtdC8INCy0YHQtSDQutC70LDRgdGB0Ysg0YMg0Y3Qu9C10LzQtdC90YLQsFxuICByZW1vdmVBbGxDbGFzc2VzRnJvbUVsZW1lbnQoZWxlbTogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICB3aGlsZSAoZWxlbS5jbGFzc0xpc3QubGVuZ3RoID4gMCkge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKGVsZW0uY2xhc3NMaXN0WzBdKTtcbiAgICB9XG4gIH1cblxuICAvLyDQnNC10YLQvtC0INC00LvRjyDRgdC+0LfQtNCw0L3QuNGPINGN0LvQtdC80LXQvdGC0L7QsiDQuNCz0YDRi1xuICBtYWtlRWxlbWVudHNGb3JHYW1lKCkge1xuICAgIHRoaXMuYm9yZGVycy5mb3JFYWNoKChjbHMpID0+IHtcbiAgICAgIGNvbnN0IGJvcmRlcjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYm9yZGVyLmNsYXNzTmFtZSA9IGBhYnNvbHV0ZSBiZy1ibHVlLTUwMCAke2Nsc31gO1xuICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kKGJvcmRlcik7XG4gICAgfSk7XG5cbiAgICB0aGlzLnBhZGRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5wYWRkbGUuaWQgPSBcInBhZGRsZVwiO1xuICAgIHRoaXMucGFkZGxlLmNsYXNzTmFtZSA9IFwiYWJzb2x1dGUgbGVmdC00IHRvcC0xLzIgdy00IGgtMjQgYmctd2hpdGVcIjtcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnBhZGRsZSk7XG5cbiAgICBjb25zdCBiYWxsOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYmFsbC5pZCA9IFwiYmFsbFwiO1xuICAgIGJhbGwuY2xhc3NOYW1lID0gXCJhYnNvbHV0ZSB3LTYgaC02IGJnLXdoaXRlIHJvdW5kZWQtZnVsbFwiO1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGJhbGwpO1xuXG4gICAgY29uc3QgdXBkYXRlQmFsbCA9ICgpOiB2b2lkID0+IHtcbiAgICAgIHRoaXMuYmFsbFggKz0gdGhpcy5iYWxsU3BlZWRYO1xuICAgICAgdGhpcy5iYWxsWSArPSB0aGlzLmJhbGxTcGVlZFk7XG5cbiAgICAgIGlmICh0aGlzLmJhbGxZIDw9IDAgfHwgdGhpcy5iYWxsWSA+PSB3aW5kb3cuaW5uZXJIZWlnaHQgLSAxMCkgdGhpcy5iYWxsU3BlZWRZICo9IC0xO1xuICAgICAgaWYgKHRoaXMuYmFsbFggPD0gMjAgJiYgdGhpcy5iYWxsWSA+IHRoaXMucGFkZGxlWSAmJiB0aGlzLmJhbGxZIDwgdGhpcy5wYWRkbGVZICsgMTAwKSB0aGlzLmJhbGxTcGVlZFggKj0gLTE7XG4gICAgICBpZiAodGhpcy5iYWxsWCA+PSB3aW5kb3cuaW5uZXJXaWR0aCAtIDEwKSB0aGlzLmJhbGxTcGVlZFggKj0gLTE7XG4gICAgICBpZiAodGhpcy5iYWxsWCA8IDApIHtcbiAgICAgICAgYWxlcnQoXCJMb3N0IVwiKTtcbiAgICAgICAgdGhpcy5iYWxsWCA9IHdpbmRvdy5pbm5lcldpZHRoIC8gMjtcbiAgICAgICAgdGhpcy5iYWxsWSA9IHdpbmRvdy5pbm5lckhlaWdodCAvIDI7XG4gICAgICB9XG5cbiAgICAgIGJhbGwuc3R5bGUubGVmdCA9IGAke3RoaXMuYmFsbFh9cHhgO1xuICAgICAgYmFsbC5zdHlsZS50b3AgPSBgJHt0aGlzLmJhbGxZfXB4YDtcbiAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVCYWxsKTtcbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMua2V5ZG93bkhhbmRsZXIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLCAoKSA9PnRoaXMuc3RvcEdhbWUoKSk7XG4gICAgdGhpcy5hbmltYXRpb25GcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZUJhbGwpO1xuICB9XG5cbiAgLy8g0KDQtdC90LTQtdGA0LjQvCDRjdC70LXQvNC10L3RgtGLINC90LAg0YHRgtGA0LDQvdC40YbQtVxuICByZW5kZXIoKSB7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwib3ZlcmZsb3cteC1oaWRkZW5cIiwgXCJvdmVyZmxvdy15LWF1dG9cIik7XG4gICAgdGhpcy5yZW1vdmVBbGxDbGFzc2VzRnJvbUVsZW1lbnQodGhpcy5jb250YWluZXIpO1xuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTmFtZSA9IFwicmVsYXRpdmUgdy1zY3JlZW4gaC1zY3JlZW4gYmctYmxhY2sgb3ZlcmZsb3ctaGlkZGVuIGJveC1ib3JkZXJcIjtcbiAgICB0aGlzLm1ha2VFbGVtZW50c0ZvckdhbWUoKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKTtcbiAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR2FtZTsiLCJpbXBvcnQgUGFnZSBmcm9tICcuLi8uLi9jb3JlL3RlbXBsYXRlcy9wYWdlJ1xuXG5jb25zdCBlbnVtIFRleHRDb2xsZWN0aW9uIHtcbiAgICBMb2dpbkhlYWRlciA9IFwiTG9naW5cIixcbiAgICBGb3Jnb3RQYXNzd29yZCA9IFwiRm9yZ290IFBhc3N3b3JkP1wiXG59XG5cbmNsYXNzIExvZ2luIGV4dGVuZHMgUGFnZVxue1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcpe1xuICAgICAgICBzdXBlcihpZCk7XG4gICAgfVxuICAgIFxuICAgIGNyZWF0ZVBhZ2VFbGVtZW50cygpe1xuICAgICAgICBsZXQgbG9naW5IZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICAgICAgICBsZXQgaW5wdXRNYWlsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgbGV0IGlucHV0UGFzc3dvcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBsZXQgYnRuU3VibWl0TG9naW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgbGV0IHRleHRGb3Jnb3RQYXNzd29yZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgbGV0IGxpbmtGb3JRdWVzdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuICAgICAgICAvLyBDbGFzc2VzIG9mIGVsZW1lbnRzXG4gICAgICAgIGxvZ2luSGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJ0ZXh0LXhsXCIsIFwiZm9udC1zZW1pYm9sZFwiLCBcInRleHQtZ3JheS03MDBcIiwgXCJ0ZXh0LWNlbnRlclwiLCBcIm1iLTRcIik7XG4gICAgICAgIGlucHV0TWFpbC5jbGFzc0xpc3QuYWRkKFwidy1mdWxsXCIsIFwibWItM1wiLCBcInB4LTNcIiwgXCJweS0yXCIsIFwiYm9yZGVyXCIsIFwicm91bmRlZFwiLCBcImZvY3VzOnJpbmctMlwiLCBcImZvY3VzOnJpbmctYmx1ZS00MDBcIik7XG4gICAgICAgIGlucHV0UGFzc3dvcmQuY2xhc3NMaXN0LmFkZChcInctZnVsbFwiLCBcIm1iLTRcIiwgXCJweC0zXCIsIFwicHktMlwiLCBcImJvcmRlclwiLCBcInJvdW5kZWRcIiwgXCJmb2N1czpyaW5nLTJcIiwgXCJmb2N1czpyaW5nLWJsdWUtNDAwXCIpO1xuICAgICAgICBidG5TdWJtaXRMb2dpbi5jbGFzc0xpc3QuYWRkKFwidy1mdWxsXCIsIFwiYmctZ3JlZW4tNTAwXCIsIFwidGV4dC13aGl0ZVwiLCBcInB5LTJcIiwgXCJyb3VuZGVkXCIsIFwiaG92ZXI6YmctZ3JlZW4tNjAwXCIpO1xuICAgICAgICB0ZXh0Rm9yZ290UGFzc3dvcmQuY2xhc3NMaXN0LmFkZChcInRleHQtY2VudGVyXCIsXCJtdC0zXCIpO1xuICAgICAgICBsaW5rRm9yUXVlc3Rpb24uY2xhc3NMaXN0LmFkZChcInRleHQtYmx1ZS01MDBcIiwgXCJob3Zlcjp1bmRlcmxpbmVcIik7XG5cbiAgICAgICAgLy8gVHlwZXNcbiAgICAgICAgaW5wdXRNYWlsLnR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgaW5wdXRQYXNzd29yZC50eXBlID0gXCJwYXNzd29yZFwiXG5cbiAgICAgICAgbGlua0ZvclF1ZXN0aW9uLmhyZWYgPSBcIiNcIlxuXG4gICAgICAgIC8vUGxhY2Vob2xkZXJzXG4gICAgICAgIGlucHV0TWFpbC5wbGFjZWhvbGRlciA9IFwieW91ciBlbWFpbFwiO1xuICAgICAgICBpbnB1dFBhc3N3b3JkLnBsYWNlaG9sZGVyID0gXCJ5b3VyIHBhc3N3b3JkXCJcblxuICAgICAgICBsb2dpbkhlYWRlci50ZXh0Q29udGVudCA9IFRleHRDb2xsZWN0aW9uLkxvZ2luSGVhZGVyO1xuICAgICAgICBsaW5rRm9yUXVlc3Rpb24udGV4dENvbnRlbnQgPSBUZXh0Q29sbGVjdGlvbi5Gb3Jnb3RQYXNzd29yZDtcblxuICAgICAgICB0ZXh0Rm9yZ290UGFzc3dvcmQuYXBwZW5kKGxpbmtGb3JRdWVzdGlvbik7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZChsb2dpbkhlYWRlcik7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZChpbnB1dE1haWwpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQoaW5wdXRQYXNzd29yZCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZChidG5TdWJtaXRMb2dpbik7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZCh0ZXh0Rm9yZ290UGFzc3dvcmQpOyAgXG4gICAgfVxuXG4gICAgLy90aGlzIGZ1bmN0aW9uIGlzIGFsc28gZXhpc3QgaW4gZmlsZSBnYW1lLnRzLiBQdXQgdGhpcyBmdW5jdGlvbiBvdXRzaWRlIGNsYXNzZXMgISEhISEhXG4gICAgcmVtb3ZlQWxsQ2xhc3Nlc0Zyb21FbGVtZW50KGVsZW06IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgICAgIHdoaWxlIChlbGVtLmNsYXNzTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoZWxlbS5jbGFzc0xpc3RbMF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJlbmRlcigpe1xuICAgICAgICB0aGlzLnJlbW92ZUFsbENsYXNzZXNGcm9tRWxlbWVudCh0aGlzLmNvbnRhaW5lcik7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcImZsZXhcIiwgXCJpdGVtcy1jZW50ZXJcIiwgXCJqdXN0aWZ5LWNlbnRlclwiLCBcIm1pbi1oLXNjcmVlblwiLCBcImJnLWdyYXktMTAwXCIpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiYmctd2hpdGUgcC02IHJvdW5kZWQtbGcgc2hhZG93IHctODBcIik7XG4gICAgICAgIHRoaXMuY3JlYXRlUGFnZUVsZW1lbnRzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9naW47IiwiaW1wb3J0IFBhZ2UgZnJvbSAnLi4vLi4vY29yZS90ZW1wbGF0ZXMvcGFnZSdcbmltcG9ydCB7IFBhZ2VJZHMgfSBmcm9tICcuLi9hcHAvY2xhc3NBcHAnO1xuXG5jbGFzcyBNYWluUGFnZSBleHRlbmRzIFBhZ2V7XG5cdC8vIHN0YXRpYyB0ZXh0T2JqZWN0ID0ge1xuXHQvLyBcdE1haW5UaXRsZTogJ01haW4gUGFnZSAxMjMnXG5cdC8vIH07XG5cblx0Y29uc3RydWN0b3IoaWQ6IHN0cmluZyl7XG5cdFx0c3VwZXIoaWQpO1xuXHR9XG5cblx0Y3JlYXRlQnV0dG9uKCl7XG5cdFx0Y29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cdFx0YnRuLnRleHRDb250ZW50ID0gJ1NUQVJUIEdBTUUnO1xuXHRcdGJ0bi5jbGFzc0xpc3QuYWRkKCdiZy13aGl0ZScsICd0ZXh0LWJsYWNrJywgJ2ZvbnQtcHJlc3Mtc3RhcnQnLCAnYm9yZGVyLTInLCAnYm9yZGVyLWJsYWNrJywgJ3B4LTgnLCAncHktNCcsICd0cmFuc2Zvcm0nLCAnc2tldy14LVstMTBkZWddJywgJ3NoYWRvdy1bNHB4XzRweF8wXzBfYmxhY2tdJywgJ2hvdmVyOnNoYWRvdy1bMnB4XzJweF8wXzBfYmxhY2tdJywgJ2FjdGl2ZTpzaGFkb3ctWzFweF8xcHhfMF8wX2JsYWNrXScsICd0cmFuc2l0aW9uLXNoYWRvdydcblx0XHQpO1xuXHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gUGFnZUlkcy5HYW1lUGFnZTtcblx0XHR9KTtcblx0XHRyZXR1cm4gYnRuO1xuXHR9XG5cblx0cmVuZGVyKCl7XG5cdFx0Y29uc3QgYnRuID0gdGhpcy5jcmVhdGVCdXR0b24oKTtcblx0XHR0aGlzLmNvbnRhaW5lci5hcHBlbmQoYnRuKTtcblx0XHRyZXR1cm4gdGhpcy5jb250YWluZXI7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWFpblBhZ2U7IiwiaW1wb3J0IFBhZ2UgZnJvbSAnLi4vLi4vY29yZS90ZW1wbGF0ZXMvcGFnZSdcblxuXG5jb25zdCBlbnVtIFRleHRBYm91dFVzIHtcbiAgICBIZWFkZXIgPSBcIlRyYW5zY2VuZGVuY2VcIixcbiAgICBUZXh0RGVzY3JpcHRpb24gPSBcItCX0LTQtdGB0Ywg0LzQvtCz0LvQsCDQsdGLINCx0YvRgtGMINCy0LDRiNCwINGA0LXQutC70LDQvNCwLi4uXCIsXG4gICAgQnRuQ29udGVudCA9IFwiUmVnaXN0cmF0aW9uXCIsXG4gICAgU2lnbkluID0gXCJTaWduIEluXCIsXG4gICAgcmVnaXN0cmF0aW9uSGVhZGVyID0gXCJSZWdpc3RyYXRpb25cIlxufVxuXG5jbGFzcyBSZWdpc3RyYXRpb24gZXh0ZW5kcyBQYWdlXG57XG4gICAgXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZyl7XG4gICAgICAgIHN1cGVyKGlkKTtcbiAgICB9XG4gICAgXG4gICAgY3JlYXRlUGFnZUVsZW1lbnRzKCl7XG4gICAgICAgIC8vIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcImFzZFwiKTtcbiAgICAgICAgLy8gbGV0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbGV0IGluZm9Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbGV0IGhlYWRlckluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xuICAgICAgICBsZXQgdGV4dEFib3V0UHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgbGV0IHJlZ2lzdHJhdGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBsZXQgcmVnaXN0cmF0aW9uSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgICAgICAgbGV0IHJlZ2lzdHJhdGlvbkZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgICAgIGxldCBpbnB1dE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBsZXQgaW5wdXRFbWFpbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGxldCBpbnB1dFBhc3N3b3JkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgbGV0IGJ0blJlZ2lzdHJhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGxldCBsb2dpbkJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgbGV0IGxpbmtGb3JMb2dpbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuICAgICAgICBoZWFkZXJJbmZvLnRleHRDb250ZW50ID0gVGV4dEFib3V0VXMuSGVhZGVyO1xuICAgICAgICB0ZXh0QWJvdXRQcm9qZWN0LnRleHRDb250ZW50ID0gVGV4dEFib3V0VXMuVGV4dERlc2NyaXB0aW9uO1xuICAgICAgICBidG5SZWdpc3RyYXRpb24udGV4dENvbnRlbnQgPSBUZXh0QWJvdXRVcy5CdG5Db250ZW50O1xuICAgICAgICBsaW5rRm9yTG9naW4udGV4dCA9IFRleHRBYm91dFVzLlNpZ25JbjtcbiAgICAgICAgcmVnaXN0cmF0aW9uSGVhZGVyLnRleHRDb250ZW50ID0gVGV4dEFib3V0VXMucmVnaXN0cmF0aW9uSGVhZGVyO1xuICAgIFxuICAgICAgICAvL0FsbCBJRHMgZnJvbSB0aGlzIHBhZ2VcbiAgICAgICAgcmVnaXN0cmF0aW9uRm9ybS5pZCA9IFwicmVnaXN0ZXJGb3JtXCI7XG4gICAgICAgIGlucHV0TmFtZS5pZCA9IFwidXNlcm5hbWVcIjtcbiAgICAgICAgaW5wdXRFbWFpbC5pZCA9IFwiZW1haWxcIjtcbiAgICAgICAgaW5wdXRQYXNzd29yZC5pZCA9IFwicGFzc3dvcmRcIjtcblxuICAgICAgICAvL0FsbCB0eXBlc1xuICAgICAgICBpbnB1dE5hbWUudHlwZSA9IFwidGV4dFwiO1xuICAgICAgICBpbnB1dEVtYWlsLnR5cGUgPSBcImVtYWlsXCI7XG4gICAgICAgIGlucHV0UGFzc3dvcmQudHlwZSA9IFwicGFzc3dvcmRcIjtcbiAgICAgICAgYnRuUmVnaXN0cmF0aW9uLnR5cGUgPSBcInN1Ym1pdFwiO1xuXG4gICAgICAgIC8vUGxhY2Vob2xkZXJzXG4gICAgICAgIGlucHV0TmFtZS5wbGFjZWhvbGRlciA9IFwidXNlcm5hbWVcIjtcbiAgICAgICAgaW5wdXRFbWFpbC5wbGFjZWhvbGRlciA9IFwieW91ciBlbWFpbFwiO1xuICAgICAgICBpbnB1dFBhc3N3b3JkLnBsYWNlaG9sZGVyID0gXCJ5b3VyIHBhc3N3b3JkXCI7XG4gICAgICAgIGxpbmtGb3JMb2dpbi5ocmVmID0gXCIjXCI7XG5cblxuXG4gICAgICAgIC8vRWxlbWVudHMgY2xhc3NcbiAgICAgICAgbGlua0ZvckxvZ2luLmNsYXNzTGlzdC5hZGQoXCJ0ZXh0LWJsdWUtNTAwXCIpO1xuICAgICAgICBsb2dpbkJ0bi5jbGFzc0xpc3QuYWRkKFwidGV4dC1jZW50ZXJcIiwgXCJtdC00XCIpO1xuICAgICAgICBpbnB1dE5hbWUuY2xhc3NMaXN0LmFkZChcInctZnVsbFwiLCBcInAtMlwiLCBcImJvcmRlclwiLCBcInJvdW5kZWRcIik7XG4gICAgICAgIGlucHV0RW1haWwuY2xhc3NMaXN0LmFkZChcInctZnVsbFwiLCBcInAtMlwiLCBcImJvcmRlclwiLCBcInJvdW5kZWRcIik7XG4gICAgICAgIGlucHV0UGFzc3dvcmQuY2xhc3NMaXN0LmFkZChcInctZnVsbFwiLCBcInAtMlwiLCBcImJvcmRlclwiLCBcInJvdW5kZWRcIik7XG4gICAgICAgIGJ0blJlZ2lzdHJhdGlvbi5jbGFzc0xpc3QuYWRkKFwidy1mdWxsXCIsIFwiYmctYmx1ZS01MDBcIiwgXCJ0ZXh0LXdoaXRlXCIsIFwicC0yXCIsIFwicm91bmRlZFwiLCBcImhvdmVyOmJnLWJsdWUtNjAwXCIpO1xuICAgICAgICByZWdpc3RyYXRpb25Gb3JtLmNsYXNzTGlzdC5hZGQoXCJzcGFjZS15LTRcIik7XG4gICAgICAgIHJlZ2lzdHJhdGlvbkhlYWRlci5jbGFzc0xpc3QuYWRkKFwidGV4dC0yeGxcIiwgXCJmb250LWJvbGRcIiwgXCJ0ZXh0LWNlbnRlclwiLCBcIm1iLTRcIik7XG4gICAgICAgIGhlYWRlckluZm8uY2xhc3NMaXN0LmFkZChcInRleHQtNHhsXCIsIFwiZm9udC1ib2xkXCIpO1xuICAgICAgICB0ZXh0QWJvdXRQcm9qZWN0LmNsYXNzTGlzdC5hZGQoIFwibXQtNFwiLCBcInRleHQtbGdcIik7XG4gICAgXG4gICAgICAgIC8vQ29udGFpbmVyIGNsYXNzZXNcbiAgICAgICAgaW5mb0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwidy0zLzVcIiwgXCJwLTEwXCIsIFwiZmxleFwiLCBcImZsZXgtY29sXCIsIFwianVzdGlmeS1jZW50ZXJcIiwgXCJiZy1ncmFkaWVudC10by1yXCIsIFwiZnJvbS1wdXJwbGUtOTAwXCIsIFwidG8tYmx1ZS05MDBcIiwgXCJ0ZXh0LXdoaXRlXCIsIFwicm91bmRlZC1sLWxnXCIpO1xuXG4gICAgICAgIHJlZ2lzdHJhdGlvbkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwidy0yLzVcIiwgXCJwLTEwXCIsIFwiZmxleFwiLCBcImZsZXgtY29sXCIsIFwianVzdGlmeS1jZW50ZXJcIiwgXCJyb3VuZGVkLXItbGdcIik7XG5cbiAgICAgICAgLy9Gb3JtIGFwcGVuZFxuICAgICAgICBsb2dpbkJ0bi5hcHBlbmQobGlua0ZvckxvZ2luKTtcbiAgICAgICAgcmVnaXN0cmF0aW9uQ29udGFpbmVyLmFwcGVuZChyZWdpc3RyYXRpb25IZWFkZXIpO1xuICAgICAgICByZWdpc3RyYXRpb25Gb3JtLmFwcGVuZChpbnB1dE5hbWUpO1xuICAgICAgICByZWdpc3RyYXRpb25Gb3JtLmFwcGVuZChpbnB1dEVtYWlsKTtcbiAgICAgICAgcmVnaXN0cmF0aW9uRm9ybS5hcHBlbmQoaW5wdXRQYXNzd29yZCk7XG4gICAgICAgIHJlZ2lzdHJhdGlvbkZvcm0uYXBwZW5kKGJ0blJlZ2lzdHJhdGlvbik7XG4gICAgICAgIHJlZ2lzdHJhdGlvbkZvcm0uYXBwZW5kKGxpbmtGb3JMb2dpbik7XG5cbiAgICAgICAgXG4gICAgICAgIHJlZ2lzdHJhdGlvbkNvbnRhaW5lci5hcHBlbmQocmVnaXN0cmF0aW9uRm9ybSk7XG4gICAgICAgIGluZm9Db250YWluZXIuYXBwZW5kKGhlYWRlckluZm8pO1xuICAgICAgICBpbmZvQ29udGFpbmVyLmFwcGVuZCh0ZXh0QWJvdXRQcm9qZWN0KTtcblxuICAgICAgICAvLyB3cmFwcGVyLmFwcGVuZChpbmZvQ29udGFpbmVyKTtcbiAgICAgICAgLy8gd3JhcHBlci5hcHBlbmQocmVnaXN0cmF0aW9uQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kKGluZm9Db250YWluZXIpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQocmVnaXN0cmF0aW9uQ29udGFpbmVyKTtcbiAgICAgICAgLy8gdGhpcy5jb250YWluZXIuYXBwZW5kKHdyYXBwZXIpO1xuICAgIH1cblxuICAgIC8vdGhpcyBmdW5jdGlvbiBpcyBhbHNvIGV4aXN0IGluIGZpbGUgZ2FtZS50cy4gUHV0IHRoaXMgZnVuY3Rpb24gb3V0c2lkZSBjbGFzc2VzICEhISEhIVxuICAgIHJlbW92ZUFsbENsYXNzZXNGcm9tRWxlbWVudChlbGVtOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgICAgICB3aGlsZSAoZWxlbS5jbGFzc0xpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZShlbGVtLmNsYXNzTGlzdFswXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBcbiAgICByZW5kZXIoKXtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxDbGFzc2VzRnJvbUVsZW1lbnQodGhpcy5jb250YWluZXIpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJoLXNjcmVlblwiLCBcImZsZXhcIiwgXCJpdGVtcy1jZW50ZXJcIiwgXCJqdXN0aWZ5LWNlbnRlclwiLCAnYmctZ3JhZGllbnQtdG8tdCcsICdmcm9tLWJsYWNrJywgJ3ZpYS1ibGFjaycsICd0by1ncmF5LTgwMCcpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwidy00LzVcIiwgXCJoLTMvNVwiLCBcImZsZXhcIiwgXCJzaGFkb3ctbGdcIiwgXCJyb3VuZGVkLWxnXCIsIFwiYmctd2hpdGVcIik7XG4gICAgICAgIHRoaXMuY3JlYXRlUGFnZUVsZW1lbnRzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVnaXN0cmF0aW9uOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTU2KTtcbiJdLCJuYW1lcyI6WyJCdXR0b25zIiwiaWQiLCJ0ZXh0IiwiSGVhZGVyIiwiY29uc3RydWN0b3IiLCJ0YWdOYW1lIiwiY2xhc3NOYW1lIiwic3VwZXIiLCJyZW5kZXJQYWdlQnV0dG9ucyIsInBhZ2VCdXR0b25zIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZm9yRWFjaCIsImUiLCJidXR0b25IVE1MIiwiaHJlZiIsImlubmVyVGV4dCIsImFwcGVuZCIsInRoaXMiLCJjb250YWluZXIiLCJyZW5kZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJydW4iLCJBcHAiLCJyZW5kZXJOZXdQYWdlIiwiaWRQYWdlIiwiY3VycmVudFBhZ2VIVE1MIiwicXVlcnlTZWxlY3RvciIsImRlZmF1bHRQYWdlSUQiLCJyZW1vdmUiLCJwYWdlIiwiY29uc29sZSIsImxvZyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJwYWdlSFRNTCIsImVuYWJsZVJvdXRlQ2hhbmdlIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhc2giLCJsb2NhdGlvbiIsInNsaWNlIiwiaW5pdGlhbFBhZ2UiLCJoZWFkZXIiLCJjdXJyZW50UGFnZSIsImdldEl0ZW0iLCJib2R5IiwiRXJyb3JQYWdlIiwiZXJyb3JUeXBlIiwiZXJyb3JNc2cxIiwidGV4dENvbnRlbnQiLCJHYW1lIiwiYm9yZGVycyIsImFuaW1hdGlvbkZyYW1lSWQiLCJwYWRkbGUiLCJwYWRkbGVZIiwiaW5uZXJIZWlnaHQiLCJiYWxsWCIsImlubmVyV2lkdGgiLCJiYWxsWSIsImJhbGxTcGVlZFgiLCJiYWxsU3BlZWRZIiwia2V5ZG93bkhhbmRsZXIiLCJtb3ZlUGFkZGxlIiwiYmluZCIsImN1cnJlbnRJbnN0YW5jZSIsImtleSIsInN0eWxlIiwidG9wIiwiZXhlY3V0ZU1ldGhvZCIsImNhbGxiYWNrIiwic3RvcEdhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW1vdmVBbGxDbGFzc2VzRnJvbUVsZW1lbnQiLCJlbGVtIiwibGVuZ3RoIiwibWFrZUVsZW1lbnRzRm9yR2FtZSIsImNscyIsImJvcmRlciIsImFwcGVuZENoaWxkIiwiYmFsbCIsInVwZGF0ZUJhbGwiLCJhbGVydCIsImxlZnQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJMb2dpbiIsImNyZWF0ZVBhZ2VFbGVtZW50cyIsImxvZ2luSGVhZGVyIiwiaW5wdXRNYWlsIiwiaW5wdXRQYXNzd29yZCIsImJ0blN1Ym1pdExvZ2luIiwidGV4dEZvcmdvdFBhc3N3b3JkIiwibGlua0ZvclF1ZXN0aW9uIiwidHlwZSIsInBsYWNlaG9sZGVyIiwiTWFpblBhZ2UiLCJjcmVhdGVCdXR0b24iLCJidG4iLCJSZWdpc3RyYXRpb24iLCJpbmZvQ29udGFpbmVyIiwiaGVhZGVySW5mbyIsInRleHRBYm91dFByb2plY3QiLCJyZWdpc3RyYXRpb25Db250YWluZXIiLCJyZWdpc3RyYXRpb25IZWFkZXIiLCJyZWdpc3RyYXRpb25Gb3JtIiwiaW5wdXROYW1lIiwiaW5wdXRFbWFpbCIsImJ0blJlZ2lzdHJhdGlvbiIsImxvZ2luQnRuIiwibGlua0ZvckxvZ2luIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjYWxsIl0sInNvdXJjZVJvb3QiOiIifQ==